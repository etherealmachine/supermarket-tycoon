(this["webpackJsonpsupermarket-tycoon"]=this["webpackJsonpsupermarket-tycoon"]||[]).push([[0],{28:function(e,t,r){e.exports=r(46)},38:function(e,t,r){},46:function(e,t,r){"use strict";r.r(t);r(29),r(30),r(31);var a,n,o,c,s,d,u,i,l,m,p,y,f,b,h,k=r(0),v=r.n(k),z=r(21),E=r.n(z),S=(r(38),r(3)),C=r(26),O=r(2),g=r(22),G=r(23),j=r(4),x=r(27),w=r(24),N=[];function P(e){return function(t,r,a){var n=a.value;a.value=function(){var t=Array.from(arguments);this.setState(Object(w.a)(this,(function(r){var a=JSON.stringify(r);n.bind(r).apply(void 0,Object(x.a)(t));var o=JSON.stringify(r);e&&e.undoable&&(0===N.length||N[N.length-1]!==a)&&o!==a&&(N.push(a),N.length>100&&N.splice(0,N.length-100)),r.hasOwnProperty("notifyChange")&&r.notifyChange()})))}}}var I={bakery:"Bakery",dairy:"Dairy",dryGoods:"Dry Goods",frozen:"Frozen Foods",produce:"Produce"},D=["every",2,3,4,5,6,"never"];function R(e){for(var t=e.length;0!==t;){var r=Math.floor(Math.random()*t),a=e[t-=1];e[t]=e[r],e[r]=a}}var M={2:2.78,3:5.56,4:8.33,5:11.11,6:13.89,7:16.67,8:13.89,9:11.11,10:8.33,11:5.56,12:2.78};var A={2:[6,7],3:[4,10],4:[5,9],5:[2,10],6:[4,12],7:[3,8],8:[7,12],9:[5,11],10:[6,11],11:[2,9],12:[3,9]},B=(a=P(),n=P(),o=P(),c=P(),s=P(),d=P(),u=P(),i=P(),l=P(),m=P(),p=P(),y=P(),f=P(),b=P(),h=function(){function e(){Object(g.a)(this,e),this.setState=function(e){},this.notifyChange=function(){},this.cash=0,this.round=0,this.departments={bakery:{price:4,salePrice:3,sale:!1,stock:{2:3,3:0,4:0,5:0,6:0,never:0}},dairy:{price:4,salePrice:2,sale:!1,stock:{3:3,4:0,5:0,6:0,never:0}},dryGoods:{price:10,salePrice:7,sale:!1,stock:{4:3,5:0,6:0,never:0}},frozen:{price:7,salePrice:5,sale:!1,stock:{never:3}},produce:{price:3,salePrice:2,sale:!1,stock:{every:3}}},this.stockRoom={},this.customers=[{name:"Regina",coupons:1,penalty:4,cartSize:3,cart:[],demand:{frozen:[2,3,4],dairy:[5,6],produce:[7],bakery:[8,9],dryGoods:[10,11,12]}},{name:"Ryan",coupons:1,penalty:2,cartSize:2,cart:[],demand:{frozen:[6,7,8],dairy:[4,5],produce:[2,3],bakery:[11,12],dryGoods:[9,10]}},{name:"Rory",coupons:0,penalty:4,cartSize:1,cart:[],demand:{frozen:[],dairy:[6,7,8],produce:[9,10,11,12],bakery:[],dryGoods:[2,3,4,5]}},{name:"Dave",coupons:2,bonus:8,penalty:12,cartSize:4,cart:[],demand:{frozen:[11,12],dairy:[7],produce:[2,3,4],bakery:[5,6],dryGoods:[8,9,10]}},{name:"Lesley",coupons:0,penalty:5,cartSize:3,cart:[],demand:{frozen:[12],dairy:[3,4,5],produce:[6,7,8],bakery:[9,10,11],dryGoods:[2]}},{name:"Mo",coupons:0,penalty:3,cartSize:1,cart:[],demand:{frozen:[],dairy:[2,3],produce:[4,5,6,7],bakery:[8,9,10],dryGoods:[11,12]}},{name:"Amanda",coupons:0,penalty:5,cartSize:3,cart:[],demand:{frozen:[4,5,6],dairy:[],produce:[2,3],bakery:[10,11,12],dryGoods:[7,8,9]}},{name:"Scott",coupons:0,penalty:6,cartSize:2,cart:[],demand:{frozen:[],dairy:[7,8,9,10,11],produce:[3,4,5,6],bakery:[2],dryGoods:[12]}},{name:"Wendell",coupons:0,penalty:5,cartSize:1,cart:[],demand:{frozen:[2,3,4,5],dairy:[9,10,11,12],produce:[8],bakery:[7],dryGoods:[6]}},{name:"Diane",coupons:0,penalty:7,cartSize:4,cart:[],demand:{frozen:[11,12],dairy:[2,3],produce:[],bakery:[4,5,6,7,8,9,10],dryGoods:[]}},{name:"Gary",coupons:2,penalty:7,cartSize:4,cart:[],demand:{frozen:[11,2],dairy:[5,6],produce:[7,8],bakery:[9,10],dryGoods:[2,3,4]}},{name:"Margaret",coupons:0,penalty:3,cartSize:2,cart:[],demand:{frozen:[2,3,4],dairy:[7,8],produce:[5,6],bakery:[9,10],dryGoods:[11,12]}},{name:"Amy",coupons:0,bonus:10,penalty:15,cartSize:5,cart:[],demand:{frozen:[2,3,4],dairy:[12],produce:[7,8],bakery:[9,10,11],dryGoods:[5,6]}},{name:"Tiffany",coupons:1,penalty:3,cartSize:2,cart:[],demand:{frozen:[9,10,11,12],dairy:[8],produce:[7],bakery:[5,6],dryGoods:[2,3,4]}},{name:"Chris",coupons:1,penalty:9,cartSize:4,cart:[],demand:{frozen:[11,12],dairy:[2],produce:[3,4,5,6],bakery:[10],dryGoods:[7,8,9]}},{name:"George",coupons:1,penalty:8,cartSize:4,cart:[],demand:{frozen:[8,9,10,11,12],dairy:[],produce:[],bakery:[2,3,4,5,6,7],dryGoods:[]}},{name:"Mikolaj",coupons:1,penalty:4,cartSize:2,cart:[],demand:{frozen:[10,11,12],dairy:[2,3,4],produce:[],bakery:[7],dryGoods:[5,6]}},{name:"Rose",coupons:1,penalty:6,cartSize:3,cart:[],demand:{frozen:[6,7],dairy:[5],produce:[2,3,4],bakery:[11,12],dryGoods:[8,9,10]}},{name:"Stu",coupons:0,penalty:8,cartSize:2,cart:[],demand:{frozen:[2,3,4,5,6,7,8,9,10,11,12],dairy:[],produce:[],bakery:[],dryGoods:[]}},{name:"Melanie",coupons:0,penalty:5,cartSize:1,cart:[],demand:{frozen:[2,3],dairy:[8,9,10],produce:[11,12],bakery:[4],dryGoods:[5,6,7]}},{name:"Phil",coupons:2,penalty:10,cartSize:4,cart:[],demand:{frozen:[],dairy:[7,8,9],produce:[4,5,6],bakery:[10,11,12],dryGoods:[2,3]}},{name:"Zo\xeb",coupons:1,bonus:9,penalty:13,cartSize:5,cart:[],demand:{frozen:[2,3,4],dairy:[9,10],produce:[11,12],bakery:[5,6,7],dryGoods:[8]}},{name:"Chad",coupons:1,penalty:6,cartSize:3,cart:[],demand:{frozen:[9],dairy:[2,3],produce:[7,8],bakery:[4,5,6],dryGoods:[10,11,12]}},{name:"Albert",coupons:1,penalty:5,cartSize:3,cart:[],demand:{frozen:[11,12],dairy:[8,9,10],produce:[5,6],bakery:[7],dryGoods:[2,3,4]}},{name:"Jordan",coupons:0,penalty:8,cartSize:3,cart:[],demand:{frozen:[9],dairy:[2,3,4],produce:[5],bakery:[6,7,8],dryGoods:[10,11,12]}},{name:"Martha",coupons:1,penalty:6,cartSize:2,cart:[],demand:{frozen:[10,11,12],dairy:[8,9],produce:[6,7],bakery:[2,3,4,5],dryGoods:[]}},{name:"Jackie",coupons:2,penalty:9,cartSize:4,cart:[],demand:{frozen:[11,12],dairy:[7],produce:[4,5,6],bakery:[2,3],dryGoods:[8,9,10]}},{name:"Donna",coupons:0,penalty:8,cartSize:1,cart:[],demand:{frozen:[10,11,12],dairy:[8,9],produce:[5],bakery:[6,7],dryGoods:[2,3,4]}},{name:"Clara",coupons:1,penalty:7,cartSize:3,cart:[],demand:{frozen:[8],dairy:[5,6],produce:[9,10,11,12],bakery:[7],dryGoods:[2,3,4]}},{name:"Jacob",coupons:1,penalty:8,cartSize:4,cart:[],demand:{frozen:[6,7],dairy:[10,11,12],produce:[2,3,4],bakery:[5],dryGoods:[8,9]}}],this.costs=[{bakery:3,dairy:1,dryGoods:3,frozen:3,produce:2},{bakery:3,dairy:2,dryGoods:5,frozen:3,produce:1},{bakery:1,dairy:2,dryGoods:5,frozen:3,produce:3},{bakery:2,dairy:3,dryGoods:3,frozen:4,produce:1},{bakery:2,dairy:3,dryGoods:4,frozen:5,produce:1},{produce:1,bakery:2,dairy:2,dryGoods:6,frozen:4}],this.currentCustomers=[],this.currentCustomerIndex=void 0,this.currentCosts={bakery:0,dairy:0,dryGoods:0,frozen:0,produce:0}}return Object(G.a)(e,[{key:"setup",value:function(){var e=this;this.cash=15,this.round=0,this.departments={bakery:{price:4,salePrice:3,sale:!1,stock:{2:3,3:0,4:0,5:0,6:0,never:0}},dairy:{price:4,salePrice:2,sale:!1,stock:{3:3,4:0,5:0,6:0,never:0}},dryGoods:{price:10,salePrice:7,sale:!1,stock:{4:3,5:0,6:0,never:0}},frozen:{price:7,salePrice:5,sale:!1,stock:{never:3}},produce:{price:3,salePrice:2,sale:!1,stock:{every:3}}},this.stockRoom={},Object.keys(I).forEach((function(t){e.stockRoom[t]={every:0,2:0,3:0,4:0,5:0,6:0,never:0}})),this.customers=[{name:"Regina",coupons:1,penalty:4,cartSize:3,cart:[],demand:{frozen:[2,3,4],dairy:[5,6],produce:[7],bakery:[8,9],dryGoods:[10,11,12]}},{name:"Ryan",coupons:1,penalty:2,cartSize:2,cart:[],demand:{frozen:[6,7,8],dairy:[4,5],produce:[2,3],bakery:[11,12],dryGoods:[9,10]}},{name:"Rory",coupons:0,penalty:4,cartSize:1,cart:[],demand:{frozen:[],dairy:[6,7,8],produce:[9,10,11,12],bakery:[],dryGoods:[2,3,4,5]}},{name:"Dave",coupons:2,bonus:8,penalty:12,cartSize:4,cart:[],demand:{frozen:[11,12],dairy:[7],produce:[2,3,4],bakery:[5,6],dryGoods:[8,9,10]}},{name:"Lesley",coupons:0,penalty:5,cartSize:3,cart:[],demand:{frozen:[12],dairy:[3,4,5],produce:[6,7,8],bakery:[9,10,11],dryGoods:[2]}},{name:"Mo",coupons:0,penalty:3,cartSize:1,cart:[],demand:{frozen:[],dairy:[2,3],produce:[4,5,6,7],bakery:[8,9,10],dryGoods:[11,12]}},{name:"Amanda",coupons:0,penalty:5,cartSize:3,cart:[],demand:{frozen:[4,5,6],dairy:[],produce:[2,3],bakery:[10,11,12],dryGoods:[7,8,9]}},{name:"Scott",coupons:0,penalty:6,cartSize:2,cart:[],demand:{frozen:[],dairy:[7,8,9,10,11],produce:[3,4,5,6],bakery:[2],dryGoods:[12]}},{name:"Wendell",coupons:0,penalty:5,cartSize:1,cart:[],demand:{frozen:[2,3,4,5],dairy:[9,10,11,12],produce:[8],bakery:[7],dryGoods:[6]}},{name:"Diane",coupons:0,penalty:7,cartSize:4,cart:[],demand:{frozen:[11,12],dairy:[2,3],produce:[],bakery:[4,5,6,7,8,9,10],dryGoods:[]}},{name:"Gary",coupons:2,penalty:7,cartSize:4,cart:[],demand:{frozen:[11,2],dairy:[5,6],produce:[7,8],bakery:[9,10],dryGoods:[2,3,4]}},{name:"Margaret",coupons:0,penalty:3,cartSize:2,cart:[],demand:{frozen:[2,3,4],dairy:[7,8],produce:[5,6],bakery:[9,10],dryGoods:[11,12]}},{name:"Amy",coupons:0,bonus:10,penalty:15,cartSize:5,cart:[],demand:{frozen:[2,3,4],dairy:[12],produce:[7,8],bakery:[9,10,11],dryGoods:[5,6]}},{name:"Tiffany",coupons:1,penalty:3,cartSize:2,cart:[],demand:{frozen:[9,10,11,12],dairy:[8],produce:[7],bakery:[5,6],dryGoods:[2,3,4]}},{name:"Chris",coupons:1,penalty:9,cartSize:4,cart:[],demand:{frozen:[11,12],dairy:[2],produce:[3,4,5,6],bakery:[10],dryGoods:[7,8,9]}},{name:"George",coupons:1,penalty:8,cartSize:4,cart:[],demand:{frozen:[8,9,10,11,12],dairy:[],produce:[],bakery:[2,3,4,5,6,7],dryGoods:[]}},{name:"Mikolaj",coupons:1,penalty:4,cartSize:2,cart:[],demand:{frozen:[10,11,12],dairy:[2,3,4],produce:[],bakery:[7],dryGoods:[5,6]}},{name:"Rose",coupons:1,penalty:6,cartSize:3,cart:[],demand:{frozen:[6,7],dairy:[5],produce:[2,3,4],bakery:[11,12],dryGoods:[8,9,10]}},{name:"Stu",coupons:0,penalty:8,cartSize:2,cart:[],demand:{frozen:[2,3,4,5,6,7,8,9,10,11,12],dairy:[],produce:[],bakery:[],dryGoods:[]}},{name:"Melanie",coupons:0,penalty:5,cartSize:1,cart:[],demand:{frozen:[2,3],dairy:[8,9,10],produce:[11,12],bakery:[4],dryGoods:[5,6,7]}},{name:"Phil",coupons:2,penalty:10,cartSize:4,cart:[],demand:{frozen:[],dairy:[7,8,9],produce:[4,5,6],bakery:[10,11,12],dryGoods:[2,3]}},{name:"Zo\xeb",coupons:1,bonus:9,penalty:13,cartSize:5,cart:[],demand:{frozen:[2,3,4],dairy:[9,10],produce:[11,12],bakery:[5,6,7],dryGoods:[8]}},{name:"Chad",coupons:1,penalty:6,cartSize:3,cart:[],demand:{frozen:[9],dairy:[2,3],produce:[7,8],bakery:[4,5,6],dryGoods:[10,11,12]}},{name:"Albert",coupons:1,penalty:5,cartSize:3,cart:[],demand:{frozen:[11,12],dairy:[8,9,10],produce:[5,6],bakery:[7],dryGoods:[2,3,4]}},{name:"Jordan",coupons:0,penalty:8,cartSize:3,cart:[],demand:{frozen:[9],dairy:[2,3,4],produce:[5],bakery:[6,7,8],dryGoods:[10,11,12]}},{name:"Martha",coupons:1,penalty:6,cartSize:2,cart:[],demand:{frozen:[10,11,12],dairy:[8,9],produce:[6,7],bakery:[2,3,4,5],dryGoods:[]}},{name:"Jackie",coupons:2,penalty:9,cartSize:4,cart:[],demand:{frozen:[11,12],dairy:[7],produce:[4,5,6],bakery:[2,3],dryGoods:[8,9,10]}},{name:"Donna",coupons:0,penalty:8,cartSize:1,cart:[],demand:{frozen:[10,11,12],dairy:[8,9],produce:[5],bakery:[6,7],dryGoods:[2,3,4]}},{name:"Clara",coupons:1,penalty:7,cartSize:3,cart:[],demand:{frozen:[8],dairy:[5,6],produce:[9,10,11,12],bakery:[7],dryGoods:[2,3,4]}},{name:"Jacob",coupons:1,penalty:8,cartSize:4,cart:[],demand:{frozen:[6,7],dairy:[10,11,12],produce:[2,3,4],bakery:[5],dryGoods:[8,9]}}],this.costs=[{bakery:3,dairy:1,dryGoods:3,frozen:3,produce:2},{bakery:3,dairy:2,dryGoods:5,frozen:3,produce:1},{bakery:1,dairy:2,dryGoods:5,frozen:3,produce:3},{bakery:2,dairy:3,dryGoods:3,frozen:4,produce:1},{bakery:2,dairy:3,dryGoods:4,frozen:5,produce:1},{produce:1,bakery:2,dairy:2,dryGoods:6,frozen:4}],R(this.customers),R(this.costs),this.currentCustomers=[],this.currentCosts={bakery:0,dairy:0,dryGoods:0,frozen:0,produce:0},this.currentCustomerIndex=void 0}},{key:"prepare",value:function(){this.round++;for(var e=0;e<5;e++){var t=this.customers.pop();if(!t)throw new Error("ran out of customers");e<2&&(t.visible=!0),this.currentCustomers.push(t)}var r=this.costs.pop();if(!r)throw new Error("ran out of costs");this.currentCosts=r,this.currentCustomerIndex=void 0}},{key:"startSale",value:function(e){this.departments[e].sale=!0}},{key:"startCustomer",value:function(e){this.currentCustomers[e].visible=!0,this.currentCustomers[e].shopping=!0,this.currentCustomerIndex=e}},{key:"advanceCustomer",value:function(){if(void 0===this.currentCustomerIndex)throw new Error("no customer");this.currentCustomers[this.currentCustomerIndex].roll=Math.floor(6*Math.random())+1+(Math.floor(6*Math.random())+1)}},{key:"finishCustomer",value:function(){if(void 0===this.currentCustomerIndex)throw new Error("no customer");var e=this.currentCustomers[this.currentCustomerIndex];e.bonus&&(this.cash-=e.bonus),e.shopping=!1,this.currentCustomers.splice(this.currentCustomerIndex,1),this.currentCustomerIndex=void 0}},{key:"buyStock",value:function(e){this.cash-=this.currentCosts[e],this.stockRoom[e][this.expiration(e)]++}},{key:"moveStock",value:function(e,t){this.stockRoom[e][t]--,this.departments[e].stock[t]++}},{key:"removeOldestItem",value:function(e){for(var t=0;t<D.length;t++){var r=D.reverse()[t];if(this.departments[e].stock[r])return this.departments[e].stock[r]--,!0}return!1}},{key:"purchase",value:function(){var e=this;if(void 0===this.currentCustomerIndex)throw new Error("no customer");var t=this.currentCustomers[this.currentCustomerIndex],r=t.roll;if(void 0===r)throw new Error("cannot purchase without roll");var a=Object.keys(t.demand).find((function(e){return t.demand[e].includes(r)}));if(void 0===a)throw new Error("".concat(r," not found for ").concat(t.name));if(this.departments[a].sale){var n=A[r],o=Object.keys(t.demand).filter((function(e){return n.find((function(r){return t.demand[e].includes(r)}))}));o.forEach((function(t){return e.removeOldestItem(t)})),o.forEach((function(r){return t.cart.push({dept:r,price:e.price(r),coupon:!1,sale:e.departments[r].sale})})),o.forEach((function(t){return e.cash+=e.price(t)}))}this.removeOldestItem(a),t.cart.push({dept:a,price:this.price(a),coupon:!1,sale:this.departments[a].sale}),this.cash+=this.price(a),t.roll=void 0}},{key:"purchaseWithCoupon",value:function(){var e=this;if(void 0===this.currentCustomerIndex)throw new Error("no customer");var t=this.currentCustomers[this.currentCustomerIndex];if(void 0===t.roll)throw new Error("cannot purchase without roll");var r=A[t.roll],a=Object.keys(t.demand).filter((function(e){return r.find((function(r){return t.demand[e].includes(r)}))}));a.forEach((function(t){return e.removeOldestItem(t)})),a.forEach((function(r){return t.cart.push({dept:r,price:e.price(r)-1,coupon:!0,sale:!1})})),a.forEach((function(t){e.cash+=e.price(t)-1})),t.coupons--,t.roll=void 0}},{key:"impulseBuy",value:function(e){if(void 0===this.currentCustomerIndex)throw new Error("no customer");var t=this.currentCustomers[this.currentCustomerIndex];this.removeOldestItem(e),this.cash+=this.price(e),t.impulseBuy={dept:e,price:this.price(e),coupon:!1,sale:!0}}},{key:"failCustomer",value:function(){var e=this;if(void 0===this.currentCustomerIndex)throw new Error("no customer");var t=this.currentCustomers[this.currentCustomerIndex];t.cart.forEach((function(t){e.cash-=t.price})),this.cash-=t.penalty,t.cartSize=0,t.roll=void 0,this.currentCustomers[this.currentCustomerIndex].shopping=!1,this.currentCustomers.splice(this.currentCustomerIndex,1),this.currentCustomerIndex=void 0}},{key:"undo",value:function(){}},{key:"redo",value:function(){}},{key:"canStartCustomer",value:function(e){return!e.shopping&&void 0===this.currentCustomerIndex}},{key:"canAdvanceCustomer",value:function(e){return e.shopping&&!e.roll&&e.cart.length<e.cartSize}},{key:"canFinishCustomer",value:function(e){return e.shopping&&!e.roll&&e.cart.length>=e.cartSize}},{key:"mustFailCustomer",value:function(e){return e.shopping&&e.roll&&this.cannotPurchase(e)}},{key:"cannotPurchase",value:function(e){var t=this;return void 0===Object.keys(I).find((function(r){return t.canPurchase(e,r)}))}},{key:"canPurchase",value:function(e,t){if(!e.roll)return!1;if(!e.demand[t].includes(e.roll))return!1;if(!this.hasStock(t))return!1;if(e.cart.length>=e.cartSize)return!1;if(this.departments[t].sale){var r=A[e.roll],a=Object.keys(e.demand).filter((function(t){return r.find((function(r){return e.demand[t].includes(r)}))})),n=Object(S.a)(a,2),o=n[0],c=n[1];return this.hasStock(o)&&this.hasStock(c)}return!0}},{key:"canPurchaseWithCoupon",value:function(e,t){if(void 0===e.roll)return!1;if(0===e.coupons)return!1;var r=A[e.roll],a=Object.keys(e.demand).filter((function(t){return r.find((function(r){return e.demand[t].includes(r)}))})),n=Object(S.a)(a,2),o=n[0],c=n[1];return(o===t||c===t)&&this.hasStock(o)&&this.hasStock(c)&&e.cart.length<e.cartSize}},{key:"canImpulseBuy",value:function(e,t){return!!e.shopping&&(!!this.departments[t].sale&&(!(e.cart.length>=e.cartSize)&&(!!this.hasStock(t)&&(!(e.cart.length>0)&&(void 0===e.roll&&void 0===e.impulseBuy)))))}},{key:"hasStock",value:function(e){return Object.values(this.departments[e].stock).reduce((function(e,t){return e+t}),0)>0}},{key:"price",value:function(e){return this.departments[e].sale?this.departments[e].salePrice:this.departments[e].price}},{key:"inStore",value:function(){return Object.values(this.departments).reduce((function(e,t){return e+Object.values(t.stock).reduce((function(e,t){return e+t}),0)}),0)}},{key:"inStockRoom",value:function(){return Object.values(this.stockRoom).reduce((function(e,t){return e+Object.values(t).reduce((function(e,t){return e+t}),0)}),0)}},{key:"expiration",value:function(e){switch(e){case"produce":return"every";case"bakery":return this.round+2;case"dairy":return this.round+3;case"dryGoods":return this.round+4;case"frozen":return"never"}return NaN}}]),e}(),Object(j.a)(h.prototype,"setup",[a],Object.getOwnPropertyDescriptor(h.prototype,"setup"),h.prototype),Object(j.a)(h.prototype,"prepare",[n],Object.getOwnPropertyDescriptor(h.prototype,"prepare"),h.prototype),Object(j.a)(h.prototype,"startSale",[o],Object.getOwnPropertyDescriptor(h.prototype,"startSale"),h.prototype),Object(j.a)(h.prototype,"startCustomer",[c],Object.getOwnPropertyDescriptor(h.prototype,"startCustomer"),h.prototype),Object(j.a)(h.prototype,"advanceCustomer",[s],Object.getOwnPropertyDescriptor(h.prototype,"advanceCustomer"),h.prototype),Object(j.a)(h.prototype,"finishCustomer",[d],Object.getOwnPropertyDescriptor(h.prototype,"finishCustomer"),h.prototype),Object(j.a)(h.prototype,"buyStock",[u],Object.getOwnPropertyDescriptor(h.prototype,"buyStock"),h.prototype),Object(j.a)(h.prototype,"moveStock",[i],Object.getOwnPropertyDescriptor(h.prototype,"moveStock"),h.prototype),Object(j.a)(h.prototype,"purchase",[l],Object.getOwnPropertyDescriptor(h.prototype,"purchase"),h.prototype),Object(j.a)(h.prototype,"purchaseWithCoupon",[m],Object.getOwnPropertyDescriptor(h.prototype,"purchaseWithCoupon"),h.prototype),Object(j.a)(h.prototype,"impulseBuy",[p],Object.getOwnPropertyDescriptor(h.prototype,"impulseBuy"),h.prototype),Object(j.a)(h.prototype,"failCustomer",[y],Object.getOwnPropertyDescriptor(h.prototype,"failCustomer"),h.prototype),Object(j.a)(h.prototype,"undo",[f],Object.getOwnPropertyDescriptor(h.prototype,"undo"),h.prototype),Object(j.a)(h.prototype,"redo",[b],Object.getOwnPropertyDescriptor(h.prototype,"redo"),h.prototype),h),J=v.a.createContext(new B),F=r(13);function W(e){return e&&"object"===typeof e&&!Array.isArray(e)}function $(e){var t=void 0;if(e instanceof Array){t=[];e.forEach((function(e){t.push(e)}))}else if(e instanceof String)t=e;else if("object"==typeof e)for(var r in t={},e)t[r]=e[r];return t}function T(e,t){var r=window.localStorage.getItem(e);null!==r&&function e(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];if(!a.length)return t;var o=a.shift();if(W(t)&&W(o))for(var c in o)W(o[c])?(t[c]||Object.assign(t,Object(F.a)({},c,{})),e(t[c],o[c])):(Object.isFrozen(t)&&(t=$(t)),Object.assign(t,Object(F.a)({},c,o[c])));return e.apply(void 0,[t].concat(a))}(t,JSON.parse(r));var a=Object(k.useState)(t),n=Object(S.a)(a,2),o=n[0],c=n[1];return[o,function(t){window.localStorage.setItem(e,JSON.stringify(t)),c(t)}]}var K=function(e){var t=e.index,r=Object(k.useContext)(J);return v.a.createElement("div",{className:"card flex-grow-1 mx-4"},v.a.createElement("div",{className:"card-body d-flex flex-column"},v.a.createElement("h5",{className:"card-title"},"Customer ",t+1),v.a.createElement("div",{className:"d-flex flex-grow-1 align-items-center justify-content-center"},void 0===r.currentCustomerIndex&&v.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return r.startCustomer(t)}},"Start"))))},L=r(8),Z=r(7),U=r(15),q=r.n(U),H=function(e){var t=e.item,r="".concat(I[t.dept]," $").concat(t.price);return t.coupon?v.a.createElement("span",{className:"badge badge-warning mx-1"},r):t.sale?v.a.createElement("span",{className:"badge badge-success mx-1"},r):v.a.createElement("span",{className:"badge badge-primary mx-1"},r)},Q=function(e){var t=e.customer,r=e.index,a=Object(k.useContext)(J);return v.a.createElement("div",{className:q()("card flex-grow-1 mx-4",{"shadow p-3 mb-5 bg-white rounded":t.shopping})},v.a.createElement("div",{className:"card-body"},v.a.createElement("div",{className:"d-flex justify-content-between"},v.a.createElement("h5",{className:"card-title"},t.name),Array(t.coupons).fill(0).map((function(e,t){return v.a.createElement("div",{key:t},v.a.createElement("span",{className:"badge badge-warning"},"Coupon"))})),t.bonus&&v.a.createElement("span",{className:"text-success"},"$",t.bonus),v.a.createElement("span",{className:"text-danger"},"$-",t.penalty)),v.a.createElement("div",{className:"d-flex align-items-center justify-content-between"},v.a.createElement("div",{className:"d-flex"},t.impulseBuy&&v.a.createElement(H,{item:t.impulseBuy}),t.cart.map((function(e){return v.a.createElement(H,{item:e})}))),v.a.createElement("div",null,"/\xa0",t.cartSize)),v.a.createElement("div",{className:"card-text"},v.a.createElement("table",{className:"table table-sm"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"Type"),v.a.createElement("th",null,"Chance"),v.a.createElement("th",null),v.a.createElement("th",null))),v.a.createElement("tbody",null,Object.entries(t.demand).filter((function(e){var t=Object(S.a)(e,2);t[0];return t[1].length>0})).map((function(e){var r,n=Object(S.a)(e,2),o=n[0],c=n[1];return v.a.createElement("tr",{key:o},v.a.createElement("td",null,I[o]),v.a.createElement("td",null,(r=c,r.reduce((function(e,t){return e+M[t]}),0)).toFixed(0),"%"),v.a.createElement("td",null,a.canPurchase(t,o)&&v.a.createElement("button",{onClick:function(){return a.purchase()},className:q()("btn btn-sm",{"btn-primary":!a.departments[o].sale,"btn-success":a.departments[o].sale})},v.a.createElement(Z.a,{icon:L.a}))),v.a.createElement("td",null,a.canPurchaseWithCoupon(t,o)&&v.a.createElement("button",{onClick:function(){return a.purchaseWithCoupon()},className:"btn btn-sm btn-warning"},v.a.createElement(Z.a,{icon:L.a}))),v.a.createElement("td",null,a.canImpulseBuy(t,o)&&v.a.createElement("button",{onClick:function(){return a.impulseBuy(o)},className:"btn btn-sm btn-success"},v.a.createElement(Z.a,{icon:L.a}))))}))))),a.canStartCustomer(t)&&v.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return a.startCustomer(r)}},"Start"),a.canAdvanceCustomer(t)&&v.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return a.advanceCustomer()}},"Next"),a.canFinishCustomer(t)&&v.a.createElement("button",{className:"btn btn-primary btn-sm",onClick:function(){return a.finishCustomer()}},"Finish"),a.mustFailCustomer(t)&&v.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return a.failCustomer()}},"Fail")))},V=function(e){var t=e.deptKey,r=e.dept,a=Object(k.useContext)(J);return v.a.createElement("div",{className:"d-flex flex-column flex-grow-1 m-4"},v.a.createElement("div",{className:"d-flex justify-content-between"},v.a.createElement("h5",null,I[t]),v.a.createElement("div",null,r.sale?v.a.createElement("span",{className:"badge badge-success"},"Sale"):v.a.createElement("button",{onClick:function(){return a.startSale(t)},className:"btn btn-success btn-sm"},"Sale"))),v.a.createElement("div",{className:"d-flex"},v.a.createElement("div",null,"Price: $",r.sale?r.salePrice:r.price)),v.a.createElement("table",{className:"table table-sm"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",{scope:"col"},"Expiry"),v.a.createElement("th",null,"Stock"))),v.a.createElement("tbody",null,Object.entries(r.stock).map((function(e){var t=Object(S.a)(e,2),r=t[0],a=t[1];return v.a.createElement("tr",{key:r},v.a.createElement("td",null,r),v.a.createElement("td",null,a))})))))},X=function(e){var t=Object(k.useContext)(J);return v.a.createElement("div",{className:"d-flex form-inline"},v.a.createElement("div",{className:"m-2"},"Round: ",t.round),v.a.createElement("div",{className:"m-2"},"Cash: $",t.cash),v.a.createElement("button",{className:"m-2 btn btn-warning btn-sm",onClick:function(){return t.setup()}},"New Game"),v.a.createElement("button",{className:"m-2 btn btn-primary btn-sm",onClick:function(){return t.prepare()}},"Prepare"),v.a.createElement("button",{className:"m-2 btn btn-light btn-sm",onClick:function(){return t.undo()}},"Undo"),v.a.createElement("button",{className:"m-2 btn btn-light btn-sm",onClick:function(){return t.redo()}},"Redo"),v.a.createElement("div",{className:"m-2"},"Space in store: ",15-t.inStore()," / 15"),v.a.createElement("div",{className:"m-2"},"Space in stock room: ",20-t.inStockRoom()," / 20"))},Y=function(){var e=Object(k.useContext)(J);return v.a.createElement("div",{className:"m-4"},v.a.createElement("h5",null,"Stock Room"),v.a.createElement("div",{className:"card"},v.a.createElement("div",{className:"card-body"},v.a.createElement("table",{className:"table table-sm"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",{scope:"col"},"Expiry"),Object.entries(I).map((function(e){var t=Object(S.a)(e,2),r=t[0],a=t[1];return v.a.createElement("th",{key:r},a)})))),v.a.createElement("tbody",null,v.a.createElement("tr",null,v.a.createElement("td",null),Object.keys(I).map((function(t){return v.a.createElement("td",{key:t},"$",e.currentCosts[t])}))),v.a.createElement("tr",null,v.a.createElement("td",null),Object.keys(I).map((function(t){return v.a.createElement("td",{key:t},v.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(){return e.buyStock(t)}},v.a.createElement(Z.a,{icon:L.a})))}))),D.map((function(t){return v.a.createElement("tr",{key:t},v.a.createElement("td",null,t),Object.keys(I).map((function(r){return v.a.createElement("td",{key:r},e.stockRoom[r]?v.a.createElement("button",{className:"btn btn-sm btn-light",onClick:function(){return e.moveStock(r,t)}},e.stockRoom[r][t]):"?")})))})))))))};function _(){var e=Object(k.useState)(0),t=Object(S.a)(e,2),r=t[0],a=t[1],n=T("AppState",new B),o=Object(S.a)(n,2),c=o[0],s=o[1];return c.setState=function(e){s(e),a(r+1)},window.app=c,v.a.createElement(C.a,null,v.a.createElement(O.c,null,v.a.createElement(O.a,{path:"/"},v.a.createElement("div",{className:"d-flex flex-column m-4"},v.a.createElement(J.Provider,{value:c},v.a.createElement(X,null),v.a.createElement("div",{className:"d-flex flex-wrap"},v.a.createElement("div",{className:"d-flex flex-grow-1 mr-4"},Object.entries(c.departments).map((function(e){var t=Object(S.a)(e,2),r=t[0],a=t[1];return v.a.createElement(V,{key:r,deptKey:r,dept:a})}))),v.a.createElement(Y,null),c.currentCustomers.map((function(e,t){return e.visible?v.a.createElement(Q,{key:t,customer:e,index:t}):v.a.createElement(K,{key:t,index:t})}))))))))}E.a.render(v.a.createElement(v.a.StrictMode,null,v.a.createElement(_,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.2cdd1848.chunk.js.map