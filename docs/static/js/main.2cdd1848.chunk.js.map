{"version":3,"sources":["State.ts","Persistence.ts","BlankCustomerCard.tsx","CustomerCard.tsx","Department.tsx","TopBar.tsx","StockRoom.tsx","App.tsx","index.tsx"],"names":["undoStack","modify","options","state","propertyKey","descriptor","modifierFn","value","args","Array","from","arguments","this","setState","produce","newState","prev","JSON","stringify","bind","curr","undoable","length","push","splice","hasOwnProperty","notifyChange","DeptName","bakery","dairy","dryGoods","frozen","Expirations","shuffle","array","i","j","Math","floor","random","tmp","probabilities","2","3","4","5","6","7","8","9","10","11","12","couponOptions","State","cash","round","departments","price","salePrice","sale","stock","never","every","stockRoom","customers","name","coupons","penalty","cartSize","cart","demand","bonus","costs","currentCustomers","currentCustomerIndex","currentCosts","Object","keys","forEach","key","undefined","nextCustomer","pop","Error","visible","nextCosts","department","shopping","roll","customer","dept","expiration","expiry","reverse","inDemand","find","includes","opts","filter","d","option","opt","removeOldestItem","coupon","impulseBuy","item","cannotPurchase","canPurchase","hasStock","opt1","opt2","values","reduce","sum","type","NaN","Context","React","createContext","isObject","isArray","unfreeze","o","oo","v","String","property","useLocalStorageState","initial","fromLocalStorage","window","localStorage","getItem","inflate","target","objs","obj","shift","assign","isFrozen","parse","useState","setItem","BlankCustomerCard","props","index","useContext","className","onClick","startCustomer","ItemBadge","text","CustomerCard","classNames","fill","map","_","entries","demandCurve","toFixed","purchase","icon","faPlus","canPurchaseWithCoupon","purchaseWithCoupon","canImpulseBuy","canStartCustomer","canAdvanceCustomer","advanceCustomer","canFinishCustomer","finishCustomer","mustFailCustomer","failCustomer","Department","deptKey","startSale","scope","count","TopCard","_props","setup","prepare","undo","redo","inStore","inStockRoom","StockRoom","buyStock","moveStock","App","setCount","app","path","Provider","TopBar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yVAGIA,EAAY,GAGhB,SAASC,EAAOC,GACd,OAAO,SACLC,EACAC,EACAC,GAEA,IAAMC,EAAaD,EAAWE,MAC9BF,EAAWE,MAAQ,WACjB,IAAMC,EAAOC,MAAMC,KAAKC,WACvBC,KAAaC,SAASC,YAAQF,MAAM,SAACG,GACpC,IAAMC,EAAOC,KAAKC,UAAUH,GAC5BT,EAAWa,KAAKJ,GAAhB,yBAA6BP,IAC7B,IAAMY,EAAOH,KAAKC,UAAUH,GACxBb,GAAWA,EAAQmB,WAAkC,IAArBrB,EAAUsB,QAAgBtB,EAAUA,EAAUsB,OAAS,KAAON,IAASI,IAASJ,IAClHhB,EAAUuB,KAAKP,GACXhB,EAAUsB,OAAS,KAAKtB,EAAUwB,OAAO,EAAGxB,EAAUsB,OAAS,MAEjEP,EAASU,eAAe,iBAC1BV,EAASW,qBA4BnB,IAuhBaC,EAAsC,CACjDC,OAAQ,SACRC,MAAO,QACPC,SAAU,YACVC,OAAQ,eACRjB,QAAS,WAGEkB,EAAc,CAAC,QAAS,EAAG,EAAG,EAAG,EAAG,EAAG,SAEpD,SAASC,EAAWC,GAElB,IADA,IAAIC,EAAID,EAAMZ,OACP,IAAMa,GAAG,CACd,IAAMC,EAAIC,KAAKC,MAAMD,KAAKE,SAAWJ,GAE/BK,EAAMN,EADZC,GAAK,GAELD,EAAMC,GAAKD,EAAME,GACjBF,EAAME,GAAKI,GAIf,IAAMC,EAA2C,CAC/CC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,MACHC,EAAG,MACHC,EAAG,MACHC,EAAG,MACHC,EAAG,MACHC,GAAI,KACJC,GAAI,KACJC,GAAI,MAON,IAAMC,EAA6C,CACjDX,EAAG,CAAC,EAAG,GACPC,EAAG,CAAC,EAAG,IACPC,EAAG,CAAC,EAAG,GACPC,EAAG,CAAC,EAAG,IACPC,EAAG,CAAC,EAAG,IACPC,EAAG,CAAC,EAAG,GACPC,EAAG,CAAC,EAAG,IACPC,EAAG,CAAC,EAAG,IACPC,GAAI,CAAC,EAAG,IACRC,GAAI,CAAC,EAAG,GACRC,GAAI,CAAC,EAAG,IAKGE,GAAb,EAoBGrD,IApBH,EAoDGA,IApDH,EAmEGA,IAnEH,EAwEGA,IAxEH,EA+EGA,IA/EH,EAqFGA,IArFH,EA+FGA,IA/FH,EAqGGA,IArGH,EAuHGA,IAvHH,EAsJGA,IAtJH,EAyKGA,IAzKH,EAuLGA,IAvLH,EAsMGA,IAtMH,EA2MGA,IA3MH,mDACEY,SAAW,SAACV,KADd,KAEEuB,aAAe,aAFjB,KAIE6B,KAAe,EAJjB,KAKEC,MAAgB,EALlB,KAMEC,YApHqE,CACrE7B,OAAQ,CACN8B,MAAO,EACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLnB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHgB,MAAO,IAGXjC,MAAO,CACL6B,MAAO,EACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLlB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHgB,MAAO,IAGXhC,SAAU,CACR4B,MAAO,GACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLjB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHgB,MAAO,IAGX/B,OAAQ,CACN2B,MAAO,EACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLC,MAAO,IAGXhD,QAAS,CACP4C,MAAO,EACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLE,MAAO,KA4Db,KAOEC,UAAsC,GAPxC,KAQEC,UAtlB+C,CAC/C,CACEC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,GACVc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,GAAI,GAAI,MAGvB,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,GAAI,IACbE,SAAU,CAAC,EAAG,MAGlB,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,GACRF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,CAAC,EAAG,GAAI,GAAI,IACrBc,OAAQ,GACRE,SAAU,CAAC,EAAG,EAAG,EAAG,KAGxB,CACEoC,KAAM,OACNC,QAAS,EACTK,MAAO,EACPJ,QAAS,GACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,GACRf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,EAAG,EAAG,MAGrB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,IACTF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,EAAG,GAAI,IAChBE,SAAU,CAAC,KAGf,CACEoC,KAAM,KACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,GACRF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBc,OAAQ,CAAC,EAAG,EAAG,IACfE,SAAU,CAAC,GAAI,MAGnB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,GACPf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,GAAI,GAAI,IACjBE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,GACRF,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,IACrBf,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBc,OAAQ,CAAC,GACTE,SAAU,CAAC,MAGf,CACEoC,KAAM,UACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBF,MAAO,CAAC,EAAG,GAAI,GAAI,IACnBf,QAAS,CAAC,GACVc,OAAQ,CAAC,GACTE,SAAU,CAAC,KAGf,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,EAAG,GACXf,QAAS,GACTc,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC3BE,SAAU,KAGd,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,GACbF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,IACZE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,WACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,IACZE,SAAU,CAAC,GAAI,MAGnB,CACEoC,KAAM,MACNC,QAAS,EACTK,MAAO,GACPJ,QAAS,GACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,IACRf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,GAAI,IAChBE,SAAU,CAAC,EAAG,KAGlB,CACEoC,KAAM,UACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,GAAI,GAAI,IACpBF,MAAO,CAAC,GACRf,QAAS,CAAC,GACVc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,GACRf,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBc,OAAQ,CAAC,IACTE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GAAI,GAAI,IACvBF,MAAO,GACPf,QAAS,GACTc,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACxBE,SAAU,KAGd,CACEoC,KAAM,UACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,GAAI,IACjBF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,GACTc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,KAGlB,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,GACZF,MAAO,CAAC,GACRf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,GAAI,IACbE,SAAU,CAAC,EAAG,EAAG,MAGrB,CACEoC,KAAM,MACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,IACzCF,MAAO,GACPf,QAAS,GACTc,OAAQ,GACRE,SAAU,KAGd,CACEoC,KAAM,UACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,GACZF,MAAO,CAAC,EAAG,EAAG,IACdf,QAAS,CAAC,GAAI,IACdc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,GACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,GACRF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,GAAI,GAAI,IACjBE,SAAU,CAAC,EAAG,KAGlB,CACEoC,KAAM,SACNC,QAAS,EACTK,MAAO,EACPJ,QAAS,GACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,EAAG,IACXf,QAAS,CAAC,GAAI,IACdc,OAAQ,CAAC,EAAG,EAAG,GACfE,SAAU,CAAC,KAGf,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GACTF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,EAAG,GACfE,SAAU,CAAC,GAAI,GAAI,MAGvB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,EAAG,EAAG,IACdf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GACTF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,CAAC,GACVc,OAAQ,CAAC,EAAG,EAAG,GACfE,SAAU,CAAC,GAAI,GAAI,MAGvB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,GAAI,IACjBF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBE,SAAU,KAGd,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,GACRf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,EAAG,EAAG,MAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,GAAI,IACjBF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,GACVc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GACTF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GAAI,GAAI,IACrBc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,GACZF,MAAO,CAAC,GAAI,GAAI,IAChBf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,MAyKpB,KASE2C,MA7KyB,CACzB,CACE7C,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEA,QAAS,EACTc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,IA2HZ,KAUE2C,iBAA+B,GAVjC,KAWEC,0BAXF,OAYEC,aAAsB,CACpBhD,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAjBb,oDAqBW,IAAD,OACNF,KAAK2C,KAAO,GACZ3C,KAAK4C,MAAQ,EACb5C,KAAK6C,YAtI8D,CACrE7B,OAAQ,CACN8B,MAAO,EACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLnB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHgB,MAAO,IAGXjC,MAAO,CACL6B,MAAO,EACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLlB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHgB,MAAO,IAGXhC,SAAU,CACR4B,MAAO,GACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLjB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHgB,MAAO,IAGX/B,OAAQ,CACN2B,MAAO,EACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLC,MAAO,IAGXhD,QAAS,CACP4C,MAAO,EACPC,UAAW,EACXC,MAAM,EACNC,MAAO,CACLE,MAAO,KAqFTnD,KAAKoD,UAAY,GACjBa,OAAOC,KAAKnD,GAAUoD,SAAQ,SAAAC,GAC5B,EAAKhB,UAAUgB,GAAO,CACpBjB,MAAO,EACPrB,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHgB,MAAO,MAGXlD,KAAKqD,UAnnBwC,CAC/C,CACEC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,GACVc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,GAAI,GAAI,MAGvB,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,GAAI,IACbE,SAAU,CAAC,EAAG,MAGlB,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,GACRF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,CAAC,EAAG,GAAI,GAAI,IACrBc,OAAQ,GACRE,SAAU,CAAC,EAAG,EAAG,EAAG,KAGxB,CACEoC,KAAM,OACNC,QAAS,EACTK,MAAO,EACPJ,QAAS,GACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,GACRf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,EAAG,EAAG,MAGrB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,IACTF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,EAAG,GAAI,IAChBE,SAAU,CAAC,KAGf,CACEoC,KAAM,KACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,GACRF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBc,OAAQ,CAAC,EAAG,EAAG,IACfE,SAAU,CAAC,GAAI,MAGnB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,GACPf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,GAAI,GAAI,IACjBE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,GACRF,MAAO,CAAC,EAAG,EAAG,EAAG,GAAI,IACrBf,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBc,OAAQ,CAAC,GACTE,SAAU,CAAC,MAGf,CACEoC,KAAM,UACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBF,MAAO,CAAC,EAAG,GAAI,GAAI,IACnBf,QAAS,CAAC,GACVc,OAAQ,CAAC,GACTE,SAAU,CAAC,KAGf,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,EAAG,GACXf,QAAS,GACTc,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC3BE,SAAU,KAGd,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,GACbF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,IACZE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,WACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,IACZE,SAAU,CAAC,GAAI,MAGnB,CACEoC,KAAM,MACNC,QAAS,EACTK,MAAO,GACPJ,QAAS,GACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,IACRf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,GAAI,IAChBE,SAAU,CAAC,EAAG,KAGlB,CACEoC,KAAM,UACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,GAAI,GAAI,IACpBF,MAAO,CAAC,GACRf,QAAS,CAAC,GACVc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,GACRf,QAAS,CAAC,EAAG,EAAG,EAAG,GACnBc,OAAQ,CAAC,IACTE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GAAI,GAAI,IACvBF,MAAO,GACPf,QAAS,GACTc,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GACxBE,SAAU,KAGd,CACEoC,KAAM,UACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,GAAI,IACjBF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,GACTc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,KAGlB,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,GACZF,MAAO,CAAC,GACRf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,GAAI,IACbE,SAAU,CAAC,EAAG,EAAG,MAGrB,CACEoC,KAAM,MACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,IACzCF,MAAO,GACPf,QAAS,GACTc,OAAQ,GACRE,SAAU,KAGd,CACEoC,KAAM,UACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,GACZF,MAAO,CAAC,EAAG,EAAG,IACdf,QAAS,CAAC,GAAI,IACdc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,GACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,GACRF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,GAAI,GAAI,IACjBE,SAAU,CAAC,EAAG,KAGlB,CACEoC,KAAM,SACNC,QAAS,EACTK,MAAO,EACPJ,QAAS,GACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,EAAG,GACfF,MAAO,CAAC,EAAG,IACXf,QAAS,CAAC,GAAI,IACdc,OAAQ,CAAC,EAAG,EAAG,GACfE,SAAU,CAAC,KAGf,CACEoC,KAAM,OACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GACTF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,EAAG,GACfE,SAAU,CAAC,GAAI,GAAI,MAGvB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,EAAG,EAAG,IACdf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GACTF,MAAO,CAAC,EAAG,EAAG,GACdf,QAAS,CAAC,GACVc,OAAQ,CAAC,EAAG,EAAG,GACfE,SAAU,CAAC,GAAI,GAAI,MAGvB,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,GAAI,IACjBF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GACbc,OAAQ,CAAC,EAAG,EAAG,EAAG,GAClBE,SAAU,KAGd,CACEoC,KAAM,SACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,IACbF,MAAO,CAAC,GACRf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,EAAG,EAAG,MAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GAAI,GAAI,IACjBF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,GACVc,OAAQ,CAAC,EAAG,GACZE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,GACTF,MAAO,CAAC,EAAG,GACXf,QAAS,CAAC,EAAG,GAAI,GAAI,IACrBc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,EAAG,KAGrB,CACEoC,KAAM,QACNC,QAAS,EACTC,QAAS,EACTC,SAAU,EACVC,KAAM,GACNC,OAAQ,CACNxC,OAAQ,CAAC,EAAG,GACZF,MAAO,CAAC,GAAI,GAAI,IAChBf,QAAS,CAAC,EAAG,EAAG,GAChBc,OAAQ,CAAC,GACTE,SAAU,CAAC,EAAG,MA+MhBlB,KAAK6D,MA1MkB,CACzB,CACE7C,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEX,CACEA,QAAS,EACTc,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,IAkKRE,EAAQrB,KAAKqD,WACbhC,EAAQrB,KAAK6D,OACb7D,KAAK8D,iBAAmB,GACxB9D,KAAKgE,aAAe,CAClBhD,OAAQ,EACRC,MAAO,EACPC,SAAU,EACVC,OAAQ,EACRjB,QAAS,GAEXF,KAAK+D,0BAAuBM,IAjDhC,gCAsDIrE,KAAK4C,QACL,IAAK,IAAIrB,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAM+C,EAAetE,KAAKqD,UAAUkB,MACpC,IAAKD,EAAc,MAAM,IAAIE,MAAM,wBAC/BjD,EAAI,IAAG+C,EAAaG,SAAU,GAClCzE,KAAK8D,iBAAiBnD,KAAK2D,GAE7B,IAAMI,EAAY1E,KAAK6D,MAAMU,MAC7B,IAAKG,EAAW,MAAM,IAAIF,MAAM,oBAChCxE,KAAKgE,aAAeU,EACpB1E,KAAK+D,0BAAuBM,IAhEhC,gCAoEYM,GACR3E,KAAK6C,YAAY8B,GAAY3B,MAAO,IArExC,oCAyEgBzB,GACZvB,KAAK8D,iBAAiBvC,GAAGkD,SAAU,EACnCzE,KAAK8D,iBAAiBvC,GAAGqD,UAAW,EACpC5E,KAAK+D,qBAAuBxC,IA5EhC,wCAiFI,QAAkC8C,IAA9BrE,KAAK+D,qBAAoC,MAAM,IAAIS,MAAM,eAC7DxE,KAAK8D,iBAAiB9D,KAAK+D,sBAAsBc,KAAQpD,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,GAAMF,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,KAlFnI,uCAuFI,QAAkC0C,IAA9BrE,KAAK+D,qBAAoC,MAAM,IAAIS,MAAM,eAC7D,IAAMM,EAAW9E,KAAK8D,iBAAiB9D,KAAK+D,sBACxCe,EAASlB,QAAO5D,KAAK2C,MAAQmC,EAASlB,OAC1CkB,EAASF,UAAW,EACpB5E,KAAK8D,iBAAiBlD,OAAOZ,KAAK+D,qBAAsB,GACxD/D,KAAK+D,0BAAuBM,IA5FhC,+BAgGWU,GACP/E,KAAK2C,MAAQ3C,KAAKgE,aAAae,GAC/B/E,KAAKoD,UAAU2B,GAAM/E,KAAKgF,WAAWD,QAlGzC,gCAsGYA,EAAcE,GACtBjF,KAAKoD,UAAU2B,GAAME,KACrBjF,KAAK6C,YAAYkC,GAAM9B,MAAMgC,OAxGjC,uCA2GmBF,GACf,IAAK,IAAIxD,EAAI,EAAGA,EAAIH,EAAYV,OAAQa,IAAK,CAC3C,IAAM0D,EAAS7D,EAAY8D,UAAU3D,GAErC,GADgBvB,KAAK6C,YAAYkC,GAAM9B,MAAMgC,GAG3C,OADAjF,KAAK6C,YAAYkC,GAAM9B,MAAMgC,MACtB,EAGX,OAAO,IApHX,iCAwHc,IAAD,OACT,QAAkCZ,IAA9BrE,KAAK+D,qBAAoC,MAAM,IAAIS,MAAM,eAC7D,IAAMM,EAAW9E,KAAK8D,iBAAiB9D,KAAK+D,sBACtCc,EAAOC,EAASD,KACtB,QAAaR,IAATQ,EAAoB,MAAM,IAAIL,MAAM,gCACxC,IAAMW,EAAWlB,OAAOC,KAAKY,EAASnB,QAAQyB,MAAK,SAAAhB,GAAG,OAAIU,EAASnB,OAAOS,GAAKiB,SAASR,MACxF,QAAiBR,IAAbc,EAAwB,MAAM,IAAIX,MAAJ,UAAaK,EAAb,0BAAmCC,EAASxB,OAC9E,GAAItD,KAAK6C,YAAYsC,GAAUnC,KAAM,CACnC,IAAM1D,EAAUmD,EAAcoC,GACxBS,EAAOrB,OAAOC,KAAKY,EAASnB,QAAQ4B,QAAO,SAAAC,GAAC,OAAIlG,EAAQ8F,MAAK,SAAAK,GAAM,OAAIX,EAASnB,OAAO6B,GAAGH,SAASI,SACzGH,EAAKnB,SAAQ,SAAAuB,GAAG,OAAI,EAAKC,iBAAiBD,MAC1CJ,EAAKnB,SAAQ,SAAAuB,GAAG,OAAIZ,EAASpB,KAAK/C,KAAK,CACrCoE,KAAMW,EACN5C,MAAO,EAAKA,MAAM4C,GAClBE,QAAQ,EACR5C,KAAM,EAAKH,YAAY6C,GAAK1C,UAE9BsC,EAAKnB,SAAQ,SAAAuB,GAAG,OAAI,EAAK/C,MAAQ,EAAKG,MAAM4C,MAE9C1F,KAAK2F,iBAAiBR,GACtBL,EAASpB,KAAK/C,KAAK,CACjBoE,KAAMI,EACNrC,MAAO9C,KAAK8C,MAAMqC,GAClBS,QAAQ,EACR5C,KAAMhD,KAAK6C,YAAYsC,GAAUnC,OAEnChD,KAAK2C,MAAQ3C,KAAK8C,MAAMqC,GACxBL,EAASD,UAAOR,IAnJpB,2CAuJwB,IAAD,OACnB,QAAkCA,IAA9BrE,KAAK+D,qBAAoC,MAAM,IAAIS,MAAM,eAC7D,IAAMM,EAAW9E,KAAK8D,iBAAiB9D,KAAK+D,sBAC5C,QAAsBM,IAAlBS,EAASD,KAAoB,MAAM,IAAIL,MAAM,gCACjD,IAAMlF,EAAUmD,EAAcqC,EAASD,MACjCS,EAAOrB,OAAOC,KAAKY,EAASnB,QAAQ4B,QAAO,SAAAC,GAAC,OAAIlG,EAAQ8F,MAAK,SAAAK,GAAM,OAAIX,EAASnB,OAAO6B,GAAGH,SAASI,SACzGH,EAAKnB,SAAQ,SAAAuB,GAAG,OAAI,EAAKC,iBAAiBD,MAC1CJ,EAAKnB,SAAQ,SAAAuB,GAAG,OAAIZ,EAASpB,KAAK/C,KAAK,CACrCoE,KAAMW,EACN5C,MAAO,EAAKA,MAAM4C,GAAO,EACzBE,QAAQ,EACR5C,MAAM,OAERsC,EAAKnB,SAAQ,SAAAuB,GAAS,EAAK/C,MAAQ,EAAKG,MAAM4C,GAAO,KACrDZ,EAASvB,UACTuB,EAASD,UAAOR,IAtKpB,iCA0KaU,GACT,QAAkCV,IAA9BrE,KAAK+D,qBAAoC,MAAM,IAAIS,MAAM,eAC7D,IAAMM,EAAW9E,KAAK8D,iBAAiB9D,KAAK+D,sBAC5C/D,KAAK2F,iBAAiBZ,GACtB/E,KAAK2C,MAAQ3C,KAAK8C,MAAMiC,GACxBD,EAASe,WAAa,CACpBd,KAAMA,EACNjC,MAAO9C,KAAK8C,MAAMiC,GAClBa,QAAQ,EACR5C,MAAM,KAnLZ,qCAwLkB,IAAD,OACb,QAAkCqB,IAA9BrE,KAAK+D,qBAAoC,MAAM,IAAIS,MAAM,eAC7D,IAAMM,EAAW9E,KAAK8D,iBAAiB9D,KAAK+D,sBAC5Ce,EAASpB,KAAKS,SAAQ,SAAA2B,GACpB,EAAKnD,MAAQmD,EAAKhD,SAEpB9C,KAAK2C,MAAQmC,EAAStB,QACtBsB,EAASrB,SAAW,EACpBqB,EAASD,UAAOR,EAChBrE,KAAK8D,iBAAiB9D,KAAK+D,sBAAsBa,UAAW,EAC5D5E,KAAK8D,iBAAiBlD,OAAOZ,KAAK+D,qBAAsB,GACxD/D,KAAK+D,0BAAuBM,IAnMhC,uGAgNmBS,GACf,OAAQA,EAASF,eAA0CP,IAA9BrE,KAAK+D,uBAjNtC,yCAoNqBe,GACjB,OAAOA,EAASF,WAAaE,EAASD,MAAQC,EAASpB,KAAKhD,OAASoE,EAASrB,WArNlF,wCAwNoBqB,GAChB,OAAOA,EAASF,WAAaE,EAASD,MAAQC,EAASpB,KAAKhD,QAAUoE,EAASrB,WAzNnF,uCA4NmBqB,GACf,OAAOA,EAASF,UAAYE,EAASD,MAAQ7E,KAAK+F,eAAejB,KA7NrE,qCAgOiBA,GAAqB,IAAD,OACjC,YAAgFT,IAAzEJ,OAAOC,KAAKnD,GAAUqE,MAAK,SAAAL,GAAI,OAAI,EAAKiB,YAAYlB,EAAUC,QAjOzE,kCAoOcD,EAAoBC,GAC9B,IAAKD,EAASD,KAAM,OAAO,EAC3B,IAAKC,EAASnB,OAAOoB,GAAMM,SAASP,EAASD,MAAO,OAAO,EAC3D,IAAK7E,KAAKiG,SAASlB,GAAO,OAAO,EACjC,GAAID,EAASpB,KAAKhD,QAAUoE,EAASrB,SAAU,OAAO,EACtD,GAAIzD,KAAK6C,YAAYkC,GAAM/B,KAAM,CAC/B,IAAM1D,EAAUmD,EAAcqC,EAASD,MADR,EAEVZ,OAAOC,KAAKY,EAASnB,QAAQ4B,QAAO,SAAAC,GAAC,OAAIlG,EAAQ8F,MAAK,SAAAK,GAAM,OAAIX,EAASnB,OAAO6B,GAAGH,SAASI,SAFlF,mBAExBS,EAFwB,KAElBC,EAFkB,KAG/B,OAAOnG,KAAKiG,SAASC,IAASlG,KAAKiG,SAASE,GAE9C,OAAO,IA9OX,4CAiPwBrB,EAAoBC,GACxC,QAAsBV,IAAlBS,EAASD,KAAoB,OAAO,EACxC,GAAyB,IAArBC,EAASvB,QAAe,OAAO,EACnC,IAAMjE,EAAUmD,EAAcqC,EAASD,MAHe,EAIjCZ,OAAOC,KAAKY,EAASnB,QAAQ4B,QAAO,SAAAC,GAAC,OAAIlG,EAAQ8F,MAAK,SAAAK,GAAM,OAAIX,EAASnB,OAAO6B,GAAGH,SAASI,SAJ3D,mBAI/CS,EAJ+C,KAIzCC,EAJyC,KAKtD,OAAQD,IAASnB,GAAQoB,IAASpB,IAAS/E,KAAKiG,SAASC,IAASlG,KAAKiG,SAASE,IAASrB,EAASpB,KAAKhD,OAASoE,EAASrB,WAtP7H,oCAyPgBqB,EAAoBC,GAChC,QAAKD,EAASF,aACT5E,KAAK6C,YAAYkC,GAAM/B,SACxB8B,EAASpB,KAAKhD,QAAUoE,EAASrB,cAChCzD,KAAKiG,SAASlB,OACfD,EAASpB,KAAKhD,OAAS,UACL2D,IAAlBS,EAASD,WACkBR,IAAxBS,EAASe,kBAhQpB,+BAmQWd,GACP,OAAOd,OAAOmC,OAAOpG,KAAK6C,YAAYkC,GAAM9B,OAAOoD,QAAO,SAACC,EAAKrD,GAAN,OAAgBqD,EAAMrD,IAAO,GAAK,IApQhG,4BAuQQ8B,GACJ,OAAO/E,KAAK6C,YAAYkC,GAAM/B,KAAOhD,KAAK6C,YAAYkC,GAAMhC,UAAY/C,KAAK6C,YAAYkC,GAAMjC,QAxQnG,gCA4QI,OAAOmB,OAAOmC,OAAOpG,KAAK6C,aAAawD,QACrC,SAACC,EAAKvB,GAAN,OAAeuB,EAAMrC,OAAOmC,OAAOrB,EAAK9B,OAAOoD,QAC7C,SAACC,EAAKrD,GAAN,OAAgBqD,EAAMrD,IAAO,KAAI,KA9QzC,oCAkRI,OAAOgB,OAAOmC,OAAOpG,KAAKoD,WAAWiD,QACnC,SAACC,EAAKvB,GAAN,OAAeuB,EAAMrC,OAAOmC,OAAOrB,GAAMsB,QACvC,SAACC,EAAKrD,GAAN,OAAgBqD,EAAMrD,IAAO,KAAI,KApRzC,iCAuRasD,GACT,OAAQA,GACN,IAAK,UACH,MAAO,QACT,IAAK,SACH,OAAOvG,KAAK4C,MAAQ,EACtB,IAAK,QACH,OAAO5C,KAAK4C,MAAQ,EACtB,IAAK,WACH,OAAO5C,KAAK4C,MAAQ,EACtB,IAAK,SACH,MAAO,QAEX,OAAO4D,QApSX,giDAwSaC,EAAUC,IAAMC,cAAc,IAAIjE,G,QCx6B/C,SAASkE,EAASrF,GAChB,OAAQA,GAAkB,kBAANA,IAAmB1B,MAAMgH,QAAQtF,GAsBvD,SAASuF,EAASC,GAChB,IAAIC,OAAU3C,EACd,GAAI0C,aAAalH,MAAO,CACtBmH,EAAK,GACLD,EAAE5C,SADqB,SAAC8C,GAAaD,EAAGrG,KAAKsG,WAExC,GAAIF,aAAaG,OACtBF,EAAKD,OACA,GAAgB,iBAALA,EAEhB,IAAK,IAAII,KADTH,EAAK,GACgBD,EAAKC,EAAGG,GAAYJ,EAAEI,GAE7C,OAAOH,EAGF,SAASI,EAAwBhD,EAAaiD,GACnD,IAAMC,EAAmBC,OAAOC,aAAaC,QAAQrD,GAC5B,OAArBkD,GAnCN,SAASI,EAAQC,GAAmC,IAAD,uBAAlBC,EAAkB,iCAAlBA,EAAkB,kBACjD,IAAKA,EAAKlH,OAAQ,OAAOiH,EACzB,IAAME,EAAMD,EAAKE,QACjB,GAAIlB,EAASe,IAAWf,EAASiB,GAC/B,IAAK,IAAMzD,KAAOyD,EACZjB,EAASiB,EAAIzD,KACVuD,EAAOvD,IAAMH,OAAO8D,OAAOJ,EAAd1D,OAAA,IAAAA,CAAA,GAAyBG,EAAM,KACjDsD,EAAQC,EAAOvD,GAAMyD,EAAIzD,MAErBH,OAAO+D,SAASL,KAClBA,EAASb,EAASa,IAEpB1D,OAAO8D,OAAOJ,EAAd1D,OAAA,IAAAA,CAAA,GAAyBG,EAAMyD,EAAIzD,MAIzC,OAAOsD,EAAO,WAAP,GAAQC,GAAR,OAAmBC,IAmBKF,CAAQL,EAAShH,KAAK4H,MAAMX,IAFsC,MAGvEY,mBAAYb,GAH2D,mBAG1F9H,EAH0F,KAGnFU,EAHmF,KAIjG,MAAO,CAACV,EAAO,SAACY,GACdoH,OAAOC,aAAaW,QAAQ/D,EAAK/D,KAAKC,UAAUH,IAChDF,EAASE,KC1Cb,IAgBeiI,EAhBW,SAACC,GAA8B,IAC/CC,EAAUD,EAAVC,MACF/I,EAAQgJ,qBAAW9B,GACzB,OAAO,yBAAK+B,UAAW,yBACrB,yBAAKA,UAAU,gCACb,wBAAIA,UAAU,cAAd,YAAqCF,EAAQ,GAC7C,yBAAKE,UAAU,qEACmBnE,IAA/B9E,EAAMwE,sBACL,4BAAQyE,UAAU,yBAAyBC,QAAS,kBAAMlJ,EAAMmJ,cAAcJ,KAA9E,a,+BCLJK,EAAY,SAACN,GAA+B,IACxCvC,EAASuC,EAATvC,KACF8C,EAAI,UAAM7H,EAAS+E,EAAKf,MAApB,aAA8Be,EAAKhD,OAC7C,OAAIgD,EAAKF,OACA,0BAAM4C,UAAU,4BAA4BI,GAEjD9C,EAAK9C,KACA,0BAAMwF,UAAU,4BAA4BI,GAE9C,0BAAMJ,UAAU,4BAA4BI,IA+EtCC,EA5EM,SAACR,GAAkD,IAC9DvD,EAAoBuD,EAApBvD,SAAUwD,EAAUD,EAAVC,MACZ/I,EAAQgJ,qBAAW9B,GACzB,OAAO,yBAAK+B,UAAWM,IAAW,wBAAyB,CAAE,mCAAoChE,EAASF,YACxG,yBAAK4D,UAAU,aACb,yBAAKA,UAAU,kCACb,wBAAIA,UAAU,cAAc1D,EAASxB,MACnCzD,MAAMiF,EAASvB,SAASwF,KAAK,GAAGC,KAAI,SAACC,EAAG1H,GAAJ,OAAU,yBAAK6C,IAAK7C,GACxD,0BAAMiH,UAAU,uBAAhB,cAED1D,EAASlB,OAAS,0BAAM4E,UAAU,gBAAhB,IAAiC1D,EAASlB,OAC7D,0BAAM4E,UAAU,eAAhB,KAAiC1D,EAAStB,UAE5C,yBAAKgF,UAAU,qDACb,yBAAKA,UAAU,UACZ1D,EAASe,YAAc,kBAAC,EAAD,CAAWC,KAAMhB,EAASe,aACjDf,EAASpB,KAAKsF,KAAI,SAAAlD,GAAI,OAAI,kBAAC,EAAD,CAAWA,KAAMA,QAE9C,qCAAahB,EAASrB,WAExB,yBAAK+E,UAAU,aACb,2BAAOA,UAAU,kBACf,+BAAO,4BAAI,oCAAa,sCAAe,6BAAS,+BAChD,+BACGvE,OAAOiF,QAAQpE,EAASnB,QAAQ4B,QAAO,oDAA2B7E,OAAS,KAAGsI,KAAI,gBHokBnEG,EGpkBmE,mBAAE5C,EAAF,KAAQ5C,EAAR,YAAoB,wBAAIS,IAAKmC,GAC9G,4BAAKxF,EAASwF,IAAW,6BHmkBX4C,EGnkB4BxF,EHokB/CwF,EAAY9C,QAAO,SAACC,EAAKzB,GAAN,OAAeyB,EAAMzE,EAAcgD,KAAO,IGpkBNuE,QAAQ,GAAjC,KACzB,4BACG7J,EAAMyG,YAAYlB,EAAUyB,IAAS,4BACpCkC,QAAS,kBAAMlJ,EAAM8J,YACrBb,UAAWM,IACT,aACA,CACE,eAAgBvJ,EAAMsD,YAAY0D,GAAMvD,KACxC,cAAezD,EAAMsD,YAAY0D,GAAMvD,QAE3C,kBAAC,IAAD,CAAiBsG,KAAMC,QAG3B,4BACGhK,EAAMiK,sBAAsB1E,EAAUyB,IAAS,4BAC9CkC,QAAS,kBAAMlJ,EAAMkK,sBACrBjB,UAAU,0BACV,kBAAC,IAAD,CAAiBc,KAAMC,QAG3B,4BACGhK,EAAMmK,cAAc5E,EAAUyB,IAAS,4BACtCkC,QAAS,kBAAMlJ,EAAMsG,WAAWU,IAChCiC,UAAU,0BACV,kBAAC,IAAD,CAAiBc,KAAMC,eAOlChK,EAAMoK,iBAAiB7E,IACtB,4BAAQ0D,UAAU,yBAAyBC,QAAS,kBAAMlJ,EAAMmJ,cAAcJ,KAA9E,SAGD/I,EAAMqK,mBAAmB9E,IACxB,4BAAQ0D,UAAU,yBAAyBC,QAAS,kBAAMlJ,EAAMsK,oBAAhE,QAGDtK,EAAMuK,kBAAkBhF,IACvB,4BAAQ0D,UAAU,yBAAyBC,QAAS,kBAAMlJ,EAAMwK,mBAAhE,UAGDxK,EAAMyK,iBAAiBlF,IACtB,4BAAQ0D,UAAU,wBAAwBC,QAAS,kBAAMlJ,EAAM0K,iBAA/D,WCpDOC,EAhCI,SAAC7B,GAAsD,IAChE8B,EAAkB9B,EAAlB8B,QAASpF,EAASsD,EAATtD,KACXxF,EAAQgJ,qBAAW9B,GACzB,OAAO,yBAAK+B,UAAU,sCACpB,yBAAKA,UAAU,kCACb,4BAAKzH,EAASoJ,IACd,6BACGpF,EAAK/B,KACJ,0BAAMwF,UAAU,uBAAhB,QACA,4BACEC,QAAS,kBAAMlJ,EAAM6K,UAAUD,IAC/B3B,UAAU,0BAFZ,UAON,yBAAKA,UAAU,UACb,wCAAczD,EAAK/B,KAAO+B,EAAKhC,UAAYgC,EAAKjC,QAElD,2BAAO0F,UAAU,kBACf,+BAAO,4BAAI,wBAAI6B,MAAM,OAAV,UAA2B,uCACtC,+BACGpG,OAAOiF,QAAQnE,EAAK9B,OAAO+F,KAAI,mCAAE/D,EAAF,KAAUqF,EAAV,YAAqB,wBAAIlG,IAAKa,GAC5D,4BAAKA,GACL,4BAAKqF,WCVAC,EAdC,SAACC,GACf,IAAMjL,EAAQgJ,qBAAW9B,GACzB,OAAO,yBAAK+B,UAAU,sBACpB,yBAAKA,UAAU,OAAf,UAA6BjJ,EAAMqD,OACnC,yBAAK4F,UAAU,OAAf,UAA6BjJ,EAAMoD,MACnC,4BAAQ6F,UAAU,6BAA6BC,QAAS,kBAAMlJ,EAAMkL,UAApE,YACA,4BAAQjC,UAAU,6BAA6BC,QAAS,kBAAMlJ,EAAMmL,YAApE,WACA,4BAAQlC,UAAU,2BAA2BC,QAAS,kBAAMlJ,EAAMoL,SAAlE,QACA,4BAAQnC,UAAU,2BAA2BC,QAAS,kBAAMlJ,EAAMqL,SAAlE,QACA,yBAAKpC,UAAU,OAAf,mBAAsC,GAAKjJ,EAAMsL,UAAjD,SACA,yBAAKrC,UAAU,OAAf,wBAA2C,GAAKjJ,EAAMuL,cAAtD,WCoCWC,EA3CG,WAChB,IAAMxL,EAAQgJ,qBAAW9B,GACzB,OAAO,yBAAK+B,UAAU,OACpB,0CACA,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACb,2BAAOA,UAAU,kBACf,+BAAO,4BACL,wBAAI6B,MAAM,OAAV,UACCpG,OAAOiF,QAAQnI,GAAUiI,KAAI,mCAAE5E,EAAF,KAAOzE,EAAP,YAAkB,wBAAIyE,IAAKA,GAAMzE,QAEjE,+BACE,4BACE,6BACCsE,OAAOC,KAAKnD,GAAUiI,KAAI,SAAAjE,GAAI,OAAI,wBAAIX,IAAKW,GAAT,IAAiBxF,EAAMyE,aAAae,QAEzE,4BACE,6BACCd,OAAOC,KAAKnD,GAAUiI,KAAI,SAAAjE,GAAI,OAAI,wBAAIX,IAAKW,GAC1C,4BACEyD,UAAU,yBACVC,QAAS,kBAAMlJ,EAAMyL,SAASjG,KAC9B,kBAAC,IAAD,CAAiBuE,KAAMC,YAI5BnI,EAAY4H,KAAI,SAAA/D,GAAM,OAAI,wBAAIb,IAAKa,GAClC,4BAAKA,GACJhB,OAAOC,KAAKnD,GAAUiI,KAAI,SAAC5E,GAAD,OAAS,wBAAIA,IAAKA,GAC3C7E,EAAM6D,UAAUgB,GAAO,4BACrBoE,UAAU,uBACVC,QAAS,kBAAMlJ,EAAM0L,UAAU7G,EAAKa,KACnC1F,EAAM6D,UAAUgB,GAAKa,IACZ,kBCxBb,SAASiG,IAAO,IAAD,EACNhD,mBAAS,GADH,mBACrB3G,EADqB,KAClB4J,EADkB,OAEF/D,EAAqB,WAAY,IAAI1E,GAFnC,mBAErBnD,EAFqB,KAEdU,EAFc,KAQ5B,OALAV,EAAMU,SAAW,SAACE,GAChBF,EAASE,GACTgL,EAAS5J,EAAI,IAEdgG,OAAe6D,IAAM7L,EACf,kBAAC,IAAD,KACL,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO8L,KAAK,KACV,yBAAK7C,UAAU,0BACb,kBAAC/B,EAAQ6E,SAAT,CAAkB3L,MAAOJ,GACvB,kBAACgM,EAAD,MACA,yBAAK/C,UAAU,oBACb,yBAAKA,UAAU,2BACZvE,OAAOiF,QAAQ3J,EAAMsD,aAAamG,KAAI,mCAAE5E,EAAF,KAAOW,EAAP,YAAiB,kBAAC,EAAD,CAAYX,IAAKA,EAAK+F,QAAS/F,EAAKW,KAAMA,QAEpG,kBAAC,EAAD,MACCxF,EAAMuE,iBAAiBkF,KAAI,SAAClE,EAAUvD,GAAX,OAC1BuD,EAASL,QACP,kBAAC,EAAD,CAAcL,IAAK7C,EAAGuD,SAAUA,EAAUwD,MAAO/G,IACjD,kBAAC,EAAD,CAAmB6C,IAAK7C,EAAG+G,MAAO/G,aC5BpDiK,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAACR,EAAD,OAEFS,SAASC,eAAe,W","file":"static/js/main.2cdd1848.chunk.js","sourcesContent":["import React from 'react';\nimport { produce } from 'immer';\n\nlet undoStack = [] as string[];\nlet redoStack = [] as string[];\n\nfunction modify(options?: { undoable: boolean }) {\n  return function (\n    state: State,\n    propertyKey: string,\n    descriptor: PropertyDescriptor\n  ) {\n    const modifierFn = descriptor.value;\n    descriptor.value = function () {\n      const args = Array.from(arguments);\n      (this as any).setState(produce(this, (newState: State) => {\n        const prev = JSON.stringify(newState);\n        modifierFn.bind(newState)(...args);\n        const curr = JSON.stringify(newState);\n        if (options && options.undoable && (undoStack.length === 0 || undoStack[undoStack.length - 1] !== prev) && curr !== prev) {\n          undoStack.push(prev);\n          if (undoStack.length > 100) undoStack.splice(0, undoStack.length - 100);\n        }\n        if (newState.hasOwnProperty('notifyChange')) {\n          newState.notifyChange();\n        }\n      }));\n    };\n  };\n}\n\nexport interface CartItem {\n  dept: string\n  price: number\n  coupon: boolean\n  sale: boolean\n}\n\nexport interface Customer {\n  name: string\n  coupons: number\n  bonus?: number\n  penalty: number\n  cartSize: number\n  impulseBuy?: CartItem\n  cart: CartItem[]\n  demand: { [key: string]: number[] }\n  visible?: boolean\n  shopping?: boolean\n  roll?: number\n}\n\nconst initialCustomers: () => Customer[] = () => [\n  {\n    name: 'Regina',\n    coupons: 1,\n    penalty: 4,\n    cartSize: 3,\n    cart: [],\n    demand: {\n      frozen: [2, 3, 4],\n      dairy: [5, 6],\n      produce: [7],\n      bakery: [8, 9],\n      dryGoods: [10, 11, 12],\n    },\n  },\n  {\n    name: 'Ryan',\n    coupons: 1,\n    penalty: 2,\n    cartSize: 2,\n    cart: [],\n    demand: {\n      frozen: [6, 7, 8],\n      dairy: [4, 5],\n      produce: [2, 3],\n      bakery: [11, 12],\n      dryGoods: [9, 10],\n    },\n  },\n  {\n    name: 'Rory',\n    coupons: 0,\n    penalty: 4,\n    cartSize: 1,\n    cart: [],\n    demand: {\n      frozen: [],\n      dairy: [6, 7, 8],\n      produce: [9, 10, 11, 12],\n      bakery: [],\n      dryGoods: [2, 3, 4, 5],\n    },\n  },\n  {\n    name: 'Dave',\n    coupons: 2,\n    bonus: 8,\n    penalty: 12,\n    cartSize: 4,\n    cart: [],\n    demand: {\n      frozen: [11, 12],\n      dairy: [7],\n      produce: [2, 3, 4],\n      bakery: [5, 6],\n      dryGoods: [8, 9, 10],\n    },\n  },\n  {\n    name: 'Lesley',\n    coupons: 0,\n    penalty: 5,\n    cartSize: 3,\n    cart: [],\n    demand: {\n      frozen: [12],\n      dairy: [3, 4, 5],\n      produce: [6, 7, 8],\n      bakery: [9, 10, 11],\n      dryGoods: [2],\n    },\n  },\n  {\n    name: 'Mo',\n    coupons: 0,\n    penalty: 3,\n    cartSize: 1,\n    cart: [],\n    demand: {\n      frozen: [],\n      dairy: [2, 3],\n      produce: [4, 5, 6, 7],\n      bakery: [8, 9, 10],\n      dryGoods: [11, 12],\n    },\n  },\n  {\n    name: 'Amanda',\n    coupons: 0,\n    penalty: 5,\n    cartSize: 3,\n    cart: [],\n    demand: {\n      frozen: [4, 5, 6],\n      dairy: [],\n      produce: [2, 3],\n      bakery: [10, 11, 12],\n      dryGoods: [7, 8, 9],\n    },\n  },\n  {\n    name: 'Scott',\n    coupons: 0,\n    penalty: 6,\n    cartSize: 2,\n    cart: [],\n    demand: {\n      frozen: [],\n      dairy: [7, 8, 9, 10, 11],\n      produce: [3, 4, 5, 6],\n      bakery: [2],\n      dryGoods: [12],\n    },\n  },\n  {\n    name: 'Wendell',\n    coupons: 0,\n    penalty: 5,\n    cartSize: 1,\n    cart: [],\n    demand: {\n      frozen: [2, 3, 4, 5],\n      dairy: [9, 10, 11, 12],\n      produce: [8],\n      bakery: [7],\n      dryGoods: [6],\n    },\n  },\n  {\n    name: 'Diane',\n    coupons: 0,\n    penalty: 7,\n    cartSize: 4,\n    cart: [],\n    demand: {\n      frozen: [11, 12],\n      dairy: [2, 3],\n      produce: [],\n      bakery: [4, 5, 6, 7, 8, 9, 10],\n      dryGoods: [],\n    },\n  },\n  {\n    name: 'Gary',\n    coupons: 2,\n    penalty: 7,\n    cartSize: 4,\n    cart: [],\n    demand: {\n      frozen: [11, 2],\n      dairy: [5, 6],\n      produce: [7, 8],\n      bakery: [9, 10],\n      dryGoods: [2, 3, 4],\n    },\n  },\n  {\n    name: 'Margaret',\n    coupons: 0,\n    penalty: 3,\n    cartSize: 2,\n    cart: [],\n    demand: {\n      frozen: [2, 3, 4],\n      dairy: [7, 8],\n      produce: [5, 6],\n      bakery: [9, 10],\n      dryGoods: [11, 12],\n    },\n  },\n  {\n    name: 'Amy',\n    coupons: 0,\n    bonus: 10,\n    penalty: 15,\n    cartSize: 5,\n    cart: [],\n    demand: {\n      frozen: [2, 3, 4],\n      dairy: [12],\n      produce: [7, 8],\n      bakery: [9, 10, 11],\n      dryGoods: [5, 6],\n    },\n  },\n  {\n    name: 'Tiffany',\n    coupons: 1,\n    penalty: 3,\n    cartSize: 2,\n    cart: [],\n    demand: {\n      frozen: [9, 10, 11, 12],\n      dairy: [8],\n      produce: [7],\n      bakery: [5, 6],\n      dryGoods: [2, 3, 4],\n    },\n  },\n  {\n    name: 'Chris',\n    coupons: 1,\n    penalty: 9,\n    cartSize: 4,\n    cart: [],\n    demand: {\n      frozen: [11, 12],\n      dairy: [2],\n      produce: [3, 4, 5, 6],\n      bakery: [10],\n      dryGoods: [7, 8, 9],\n    },\n  },\n  {\n    name: 'George',\n    coupons: 1,\n    penalty: 8,\n    cartSize: 4,\n    cart: [],\n    demand: {\n      frozen: [8, 9, 10, 11, 12],\n      dairy: [],\n      produce: [],\n      bakery: [2, 3, 4, 5, 6, 7],\n      dryGoods: [],\n    },\n  },\n  {\n    name: 'Mikolaj',\n    coupons: 1,\n    penalty: 4,\n    cartSize: 2,\n    cart: [],\n    demand: {\n      frozen: [10, 11, 12],\n      dairy: [2, 3, 4],\n      produce: [],\n      bakery: [7],\n      dryGoods: [5, 6],\n    },\n  },\n  {\n    name: 'Rose',\n    coupons: 1,\n    penalty: 6,\n    cartSize: 3,\n    cart: [],\n    demand: {\n      frozen: [6, 7],\n      dairy: [5],\n      produce: [2, 3, 4],\n      bakery: [11, 12],\n      dryGoods: [8, 9, 10],\n    },\n  },\n  {\n    name: 'Stu',\n    coupons: 0,\n    penalty: 8,\n    cartSize: 2,\n    cart: [],\n    demand: {\n      frozen: [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],\n      dairy: [],\n      produce: [],\n      bakery: [],\n      dryGoods: [],\n    },\n  },\n  {\n    name: 'Melanie',\n    coupons: 0,\n    penalty: 5,\n    cartSize: 1,\n    cart: [],\n    demand: {\n      frozen: [2, 3],\n      dairy: [8, 9, 10],\n      produce: [11, 12],\n      bakery: [4],\n      dryGoods: [5, 6, 7],\n    },\n  },\n  {\n    name: 'Phil',\n    coupons: 2,\n    penalty: 10,\n    cartSize: 4,\n    cart: [],\n    demand: {\n      frozen: [],\n      dairy: [7, 8, 9],\n      produce: [4, 5, 6],\n      bakery: [10, 11, 12],\n      dryGoods: [2, 3],\n    },\n  },\n  {\n    name: 'ZoÃ«',\n    coupons: 1,\n    bonus: 9,\n    penalty: 13,\n    cartSize: 5,\n    cart: [],\n    demand: {\n      frozen: [2, 3, 4],\n      dairy: [9, 10],\n      produce: [11, 12],\n      bakery: [5, 6, 7],\n      dryGoods: [8],\n    },\n  },\n  {\n    name: 'Chad',\n    coupons: 1,\n    penalty: 6,\n    cartSize: 3,\n    cart: [],\n    demand: {\n      frozen: [9],\n      dairy: [2, 3],\n      produce: [7, 8],\n      bakery: [4, 5, 6],\n      dryGoods: [10, 11, 12],\n    },\n  },\n  {\n    name: 'Albert',\n    coupons: 1,\n    penalty: 5,\n    cartSize: 3,\n    cart: [],\n    demand: {\n      frozen: [11, 12],\n      dairy: [8, 9, 10],\n      produce: [5, 6],\n      bakery: [7],\n      dryGoods: [2, 3, 4],\n    },\n  },\n  {\n    name: 'Jordan',\n    coupons: 0,\n    penalty: 8,\n    cartSize: 3,\n    cart: [],\n    demand: {\n      frozen: [9],\n      dairy: [2, 3, 4],\n      produce: [5],\n      bakery: [6, 7, 8],\n      dryGoods: [10, 11, 12],\n    },\n  },\n  {\n    name: 'Martha',\n    coupons: 1,\n    penalty: 6,\n    cartSize: 2,\n    cart: [],\n    demand: {\n      frozen: [10, 11, 12],\n      dairy: [8, 9],\n      produce: [6, 7],\n      bakery: [2, 3, 4, 5],\n      dryGoods: [],\n    },\n  },\n  {\n    name: 'Jackie',\n    coupons: 2,\n    penalty: 9,\n    cartSize: 4,\n    cart: [],\n    demand: {\n      frozen: [11, 12],\n      dairy: [7],\n      produce: [4, 5, 6],\n      bakery: [2, 3],\n      dryGoods: [8, 9, 10],\n    },\n  },\n  {\n    name: 'Donna',\n    coupons: 0,\n    penalty: 8,\n    cartSize: 1,\n    cart: [],\n    demand: {\n      frozen: [10, 11, 12],\n      dairy: [8, 9],\n      produce: [5],\n      bakery: [6, 7],\n      dryGoods: [2, 3, 4],\n    },\n  },\n  {\n    name: 'Clara',\n    coupons: 1,\n    penalty: 7,\n    cartSize: 3,\n    cart: [],\n    demand: {\n      frozen: [8],\n      dairy: [5, 6],\n      produce: [9, 10, 11, 12],\n      bakery: [7],\n      dryGoods: [2, 3, 4],\n    },\n  },\n  {\n    name: 'Jacob',\n    coupons: 1,\n    penalty: 8,\n    cartSize: 4,\n    cart: [],\n    demand: {\n      frozen: [6, 7],\n      dairy: [10, 11, 12],\n      produce: [2, 3, 4],\n      bakery: [5],\n      dryGoods: [8, 9],\n    },\n  },\n];\n\nconst initialCosts = () => [\n  {\n    bakery: 3,\n    dairy: 1,\n    dryGoods: 3,\n    frozen: 3,\n    produce: 2,\n  },\n  {\n    bakery: 3,\n    dairy: 2,\n    dryGoods: 5,\n    frozen: 3,\n    produce: 1,\n  },\n  {\n    bakery: 1,\n    dairy: 2,\n    dryGoods: 5,\n    frozen: 3,\n    produce: 3,\n  },\n  {\n    bakery: 2,\n    dairy: 3,\n    dryGoods: 3,\n    frozen: 4,\n    produce: 1,\n  },\n  {\n    bakery: 2,\n    dairy: 3,\n    dryGoods: 4,\n    frozen: 5,\n    produce: 1,\n  },\n  {\n    produce: 1,\n    bakery: 2,\n    dairy: 2,\n    dryGoods: 6,\n    frozen: 4,\n  },\n];\n\nexport type Stock = { [key: string]: number }\n\nexport interface Department {\n  price: number\n  salePrice: number\n  sale: boolean\n  stock: Stock\n}\n\nconst initialDepartments: () => { [key: string]: Department } = () => ({\n  bakery: {\n    price: 4,\n    salePrice: 3,\n    sale: false,\n    stock: {\n      2: 3,\n      3: 0,\n      4: 0,\n      5: 0,\n      6: 0,\n      never: 0,\n    },\n  },\n  dairy: {\n    price: 4,\n    salePrice: 2,\n    sale: false,\n    stock: {\n      3: 3,\n      4: 0,\n      5: 0,\n      6: 0,\n      never: 0,\n    },\n  },\n  dryGoods: {\n    price: 10,\n    salePrice: 7,\n    sale: false,\n    stock: {\n      4: 3,\n      5: 0,\n      6: 0,\n      never: 0,\n    },\n  },\n  frozen: {\n    price: 7,\n    salePrice: 5,\n    sale: false,\n    stock: {\n      never: 3,\n    },\n  },\n  produce: {\n    price: 3,\n    salePrice: 2,\n    sale: false,\n    stock: {\n      every: 3,\n    },\n  },\n})\n\nexport const DeptName: { [key: string]: string } = {\n  bakery: 'Bakery',\n  dairy: 'Dairy',\n  dryGoods: 'Dry Goods',\n  frozen: 'Frozen Foods',\n  produce: 'Produce',\n}\n\nexport const Expirations = ['every', 2, 3, 4, 5, 6, 'never'];\n\nfunction shuffle<T>(array: Array<T>) {\n  let i = array.length;\n  while (0 !== i) {\n    const j = Math.floor(Math.random() * i);\n    i -= 1;\n    const tmp = array[i];\n    array[i] = array[j];\n    array[j] = tmp;\n  }\n}\n\nconst probabilities: { [key: string]: number } = {\n  2: 2.78,\n  3: 5.56,\n  4: 8.33,\n  5: 11.11,\n  6: 13.89,\n  7: 16.67,\n  8: 13.89,\n  9: 11.11,\n  10: 8.33,\n  11: 5.56,\n  12: 2.78,\n}\n\nexport function probability(demandCurve: number[]) {\n  return demandCurve.reduce((sum, roll) => sum + probabilities[roll], 0);\n}\n\nconst couponOptions: { [key: string]: number[] } = {\n  2: [6, 7],\n  3: [4, 10],\n  4: [5, 9],\n  5: [2, 10],\n  6: [4, 12],\n  7: [3, 8],\n  8: [7, 12],\n  9: [5, 11],\n  10: [6, 11],\n  11: [2, 9],\n  12: [3, 9],\n}\n\nexport type DeptKey = keyof ReturnType<typeof initialDepartments>;\n\nexport class State {\n  setState = (state: any) => { }\n  notifyChange = () => { }\n\n  cash: number = 0\n  round: number = 0\n  departments = initialDepartments()\n  stockRoom: { [key: string]: Stock } = {}\n  customers = initialCustomers()\n  costs = initialCosts()\n  currentCustomers: Customer[] = []\n  currentCustomerIndex?: number\n  currentCosts: Stock = {\n    bakery: 0,\n    dairy: 0,\n    dryGoods: 0,\n    frozen: 0,\n    produce: 0,\n  }\n\n  @modify()\n  setup() {\n    this.cash = 15;\n    this.round = 0;\n    this.departments = initialDepartments();\n    this.stockRoom = {};\n    Object.keys(DeptName).forEach(key => {\n      this.stockRoom[key] = {\n        every: 0,\n        2: 0,\n        3: 0,\n        4: 0,\n        5: 0,\n        6: 0,\n        never: 0,\n      };\n    });\n    this.customers = initialCustomers();\n    this.costs = initialCosts();\n    shuffle(this.customers);\n    shuffle(this.costs);\n    this.currentCustomers = [];\n    this.currentCosts = {\n      bakery: 0,\n      dairy: 0,\n      dryGoods: 0,\n      frozen: 0,\n      produce: 0,\n    };\n    this.currentCustomerIndex = undefined;\n  }\n\n  @modify()\n  prepare() {\n    this.round++;\n    for (let i = 0; i < 5; i++) {\n      const nextCustomer = this.customers.pop();\n      if (!nextCustomer) throw new Error('ran out of customers');\n      if (i < 2) nextCustomer.visible = true;\n      this.currentCustomers.push(nextCustomer);\n    }\n    const nextCosts = this.costs.pop();\n    if (!nextCosts) throw new Error('ran out of costs');\n    this.currentCosts = nextCosts;\n    this.currentCustomerIndex = undefined;\n  }\n\n  @modify()\n  startSale(department: DeptKey) {\n    this.departments[department].sale = true;\n  }\n\n  @modify()\n  startCustomer(i: number) {\n    this.currentCustomers[i].visible = true;\n    this.currentCustomers[i].shopping = true;\n    this.currentCustomerIndex = i;\n  }\n\n  @modify()\n  advanceCustomer() {\n    if (this.currentCustomerIndex === undefined) throw new Error('no customer');\n    this.currentCustomers[this.currentCustomerIndex].roll = (Math.floor(Math.random() * 6) + 1) + (Math.floor(Math.random() * 6) + 1);\n  }\n\n  @modify()\n  finishCustomer() {\n    if (this.currentCustomerIndex === undefined) throw new Error('no customer');\n    const customer = this.currentCustomers[this.currentCustomerIndex];\n    if (customer.bonus) this.cash -= customer.bonus;\n    customer.shopping = false;\n    this.currentCustomers.splice(this.currentCustomerIndex, 1);\n    this.currentCustomerIndex = undefined;\n  }\n\n  @modify()\n  buyStock(dept: string) {\n    this.cash -= this.currentCosts[dept];\n    this.stockRoom[dept][this.expiration(dept)]++;\n  }\n\n  @modify()\n  moveStock(dept: string, expiry: string | number) {\n    this.stockRoom[dept][expiry]--;\n    this.departments[dept].stock[expiry]++;\n  }\n\n  removeOldestItem(dept: string) {\n    for (let i = 0; i < Expirations.length; i++) {\n      const expiry = Expirations.reverse()[i];\n      const inStock = this.departments[dept].stock[expiry];\n      if (inStock) {\n        this.departments[dept].stock[expiry]--;\n        return true;\n      }\n    }\n    return false;\n  }\n\n  @modify()\n  purchase() {\n    if (this.currentCustomerIndex === undefined) throw new Error('no customer');\n    const customer = this.currentCustomers[this.currentCustomerIndex];\n    const roll = customer.roll;\n    if (roll === undefined) throw new Error('cannot purchase without roll');\n    const inDemand = Object.keys(customer.demand).find(key => customer.demand[key].includes(roll));\n    if (inDemand === undefined) throw new Error(`${roll} not found for ${customer.name}`);\n    if (this.departments[inDemand].sale) {\n      const options = couponOptions[roll];\n      const opts = Object.keys(customer.demand).filter(d => options.find(option => customer.demand[d].includes(option)));\n      opts.forEach(opt => this.removeOldestItem(opt));\n      opts.forEach(opt => customer.cart.push({\n        dept: opt,\n        price: this.price(opt),\n        coupon: false,\n        sale: this.departments[opt].sale,\n      }));\n      opts.forEach(opt => this.cash += this.price(opt));\n    }\n    this.removeOldestItem(inDemand);\n    customer.cart.push({\n      dept: inDemand,\n      price: this.price(inDemand),\n      coupon: false,\n      sale: this.departments[inDemand].sale,\n    });\n    this.cash += this.price(inDemand);\n    customer.roll = undefined;\n  }\n\n  @modify()\n  purchaseWithCoupon() {\n    if (this.currentCustomerIndex === undefined) throw new Error('no customer');\n    const customer = this.currentCustomers[this.currentCustomerIndex];\n    if (customer.roll === undefined) throw new Error('cannot purchase without roll');\n    const options = couponOptions[customer.roll];\n    const opts = Object.keys(customer.demand).filter(d => options.find(option => customer.demand[d].includes(option)));\n    opts.forEach(opt => this.removeOldestItem(opt));\n    opts.forEach(opt => customer.cart.push({\n      dept: opt,\n      price: this.price(opt) - 1,\n      coupon: true,\n      sale: false,\n    }));\n    opts.forEach(opt => { this.cash += this.price(opt) - 1 });\n    customer.coupons--;\n    customer.roll = undefined;\n  }\n\n  @modify()\n  impulseBuy(dept: string) {\n    if (this.currentCustomerIndex === undefined) throw new Error('no customer');\n    const customer = this.currentCustomers[this.currentCustomerIndex];\n    this.removeOldestItem(dept);\n    this.cash += this.price(dept);\n    customer.impulseBuy = {\n      dept: dept,\n      price: this.price(dept),\n      coupon: false,\n      sale: true,\n    };\n  }\n\n  @modify()\n  failCustomer() {\n    if (this.currentCustomerIndex === undefined) throw new Error('no customer');\n    const customer = this.currentCustomers[this.currentCustomerIndex];\n    customer.cart.forEach(item => {\n      this.cash -= item.price;\n    });\n    this.cash -= customer.penalty;\n    customer.cartSize = 0;\n    customer.roll = undefined;\n    this.currentCustomers[this.currentCustomerIndex].shopping = false;\n    this.currentCustomers.splice(this.currentCustomerIndex, 1);\n    this.currentCustomerIndex = undefined;\n  }\n\n  @modify()\n  undo() {\n\n  }\n\n  @modify()\n  redo() {\n\n  }\n\n  canStartCustomer(customer: Customer) {\n    return !customer.shopping && this.currentCustomerIndex === undefined;\n  }\n\n  canAdvanceCustomer(customer: Customer) {\n    return customer.shopping && !customer.roll && customer.cart.length < customer.cartSize;\n  }\n\n  canFinishCustomer(customer: Customer) {\n    return customer.shopping && !customer.roll && customer.cart.length >= customer.cartSize;\n  }\n\n  mustFailCustomer(customer: Customer) {\n    return customer.shopping && customer.roll && this.cannotPurchase(customer);\n  }\n\n  cannotPurchase(customer: Customer) {\n    return Object.keys(DeptName).find(dept => this.canPurchase(customer, dept)) === undefined;\n  }\n\n  canPurchase(customer: Customer, dept: string) {\n    if (!customer.roll) return false;\n    if (!customer.demand[dept].includes(customer.roll)) return false;\n    if (!this.hasStock(dept)) return false;\n    if (customer.cart.length >= customer.cartSize) return false;\n    if (this.departments[dept].sale) {\n      const options = couponOptions[customer.roll];\n      const [opt1, opt2] = Object.keys(customer.demand).filter(d => options.find(option => customer.demand[d].includes(option)));\n      return this.hasStock(opt1) && this.hasStock(opt2);\n    }\n    return true;\n  }\n\n  canPurchaseWithCoupon(customer: Customer, dept: string) {\n    if (customer.roll === undefined) return false;\n    if (customer.coupons === 0) return false;\n    const options = couponOptions[customer.roll];\n    const [opt1, opt2] = Object.keys(customer.demand).filter(d => options.find(option => customer.demand[d].includes(option)));\n    return (opt1 === dept || opt2 === dept) && this.hasStock(opt1) && this.hasStock(opt2) && customer.cart.length < customer.cartSize;\n  }\n\n  canImpulseBuy(customer: Customer, dept: string) {\n    if (!customer.shopping) return false;\n    if (!this.departments[dept].sale) return false;\n    if (customer.cart.length >= customer.cartSize) return false;\n    if (!this.hasStock(dept)) return false;\n    if (customer.cart.length > 0) return false;\n    if (customer.roll !== undefined) return false;\n    return customer.impulseBuy === undefined;\n  }\n\n  hasStock(dept: string) {\n    return Object.values(this.departments[dept].stock).reduce((sum, stock) => sum + stock, 0) > 0;\n  }\n\n  price(dept: string): number {\n    return this.departments[dept].sale ? this.departments[dept].salePrice : this.departments[dept].price;\n  }\n\n  inStore(): number {\n    return Object.values(this.departments).reduce(\n      (sum, dept) => sum + Object.values(dept.stock).reduce(\n        (sum, stock) => sum + stock, 0), 0);\n  }\n\n  inStockRoom(): number {\n    return Object.values(this.stockRoom).reduce(\n      (sum, dept) => sum + Object.values(dept).reduce(\n        (sum, stock) => sum + stock, 0), 0);\n  }\n\n  expiration(type: string): string | number {\n    switch (type) {\n      case 'produce':\n        return 'every';\n      case 'bakery':\n        return this.round + 2;\n      case 'dairy':\n        return this.round + 3;\n      case 'dryGoods':\n        return this.round + 4;\n      case 'frozen':\n        return 'never';\n    }\n    return NaN;\n  }\n}\n\nexport const Context = React.createContext(new State());","import { Dispatch, SetStateAction, useState } from \"react\";\n\nfunction isObject(i: any) {\n  return (i && typeof i === 'object' && !Array.isArray(i));\n}\n\nfunction inflate(target: any, ...objs: any[]): any {\n  if (!objs.length) return target;\n  const obj = objs.shift();\n  if (isObject(target) && isObject(obj)) {\n    for (const key in obj) {\n      if (isObject(obj[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        inflate(target[key], obj[key]);\n      } else {\n        if (Object.isFrozen(target)) {\n          target = unfreeze(target);\n        }\n        Object.assign(target, { [key]: obj[key] });\n      }\n    }\n  }\n  return inflate(target, ...objs);\n}\n\nfunction unfreeze(o: any) {\n  let oo: any = undefined;\n  if (o instanceof Array) {\n    oo = []; const clone = (v: any) => { oo.push(v) };\n    o.forEach(clone);\n  } else if (o instanceof String) {\n    oo = o;\n  } else if (typeof o == 'object') {\n    oo = {};\n    for (var property in o) { oo[property] = o[property]; }\n  }\n  return oo;\n}\n\nexport function useLocalStorageState<T>(key: string, initial: T): [T, Dispatch<SetStateAction<T>>] {\n  const fromLocalStorage = window.localStorage.getItem(key);\n  if (fromLocalStorage !== null) inflate(initial, JSON.parse(fromLocalStorage));\n  const [state, setState] = useState<T>(initial);\n  return [state, (newState: any) => {\n    window.localStorage.setItem(key, JSON.stringify(newState));\n    setState(newState);\n  }];\n}","import React, { useContext } from 'react';\nimport { Context } from './State';\n\nconst BlankCustomerCard = (props: { index: number }) => {\n  const { index } = props;\n  const state = useContext(Context);\n  return <div className={\"card flex-grow-1 mx-4\"}>\n    <div className=\"card-body d-flex flex-column\">\n      <h5 className=\"card-title\">Customer {index + 1}</h5>\n      <div className=\"d-flex flex-grow-1 align-items-center justify-content-center\">\n        {state.currentCustomerIndex === undefined &&\n          <button className=\"btn btn-primary btn-sm\" onClick={() => state.startCustomer(index)}>\n            Start\n          </button>}\n      </div>\n    </div>\n  </div>;\n}\n\nexport default BlankCustomerCard;","import { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport { CartItem, Context, Customer, DeptName, probability } from './State';\n\nconst ItemBadge = (props: { item: CartItem }) => {\n  const { item } = props;\n  const text = `${DeptName[item.dept]} $${item.price}`;\n  if (item.coupon) {\n    return <span className=\"badge badge-warning mx-1\">{text}</span>;\n  }\n  if (item.sale) {\n    return <span className=\"badge badge-success mx-1\">{text}</span>;\n  }\n  return <span className=\"badge badge-primary mx-1\">{text}</span>;\n}\n\nconst CustomerCard = (props: { customer: Customer, index: number }) => {\n  const { customer, index } = props;\n  const state = useContext(Context);\n  return <div className={classNames(\"card flex-grow-1 mx-4\", { \"shadow p-3 mb-5 bg-white rounded\": customer.shopping })}>\n    <div className=\"card-body\">\n      <div className=\"d-flex justify-content-between\">\n        <h5 className=\"card-title\">{customer.name}</h5>\n        {(Array(customer.coupons).fill(0).map((_, i) => <div key={i}>\n          <span className=\"badge badge-warning\">Coupon</span>\n        </div>))}\n        {customer.bonus && <span className=\"text-success\">${customer.bonus}</span>}\n        <span className=\"text-danger\">$-{customer.penalty}</span>\n      </div>\n      <div className=\"d-flex align-items-center justify-content-between\">\n        <div className=\"d-flex\">\n          {customer.impulseBuy && <ItemBadge item={customer.impulseBuy} />}\n          {customer.cart.map(item => <ItemBadge item={item} />)}\n        </div>\n        <div>/&nbsp;{customer.cartSize}</div>\n      </div>\n      <div className=\"card-text\">\n        <table className=\"table table-sm\">\n          <thead><tr><th>Type</th><th>Chance</th><th></th><th></th></tr></thead>\n          <tbody>\n            {Object.entries(customer.demand).filter(([type, demand]) => demand.length > 0).map(([type, demand]) => <tr key={type}>\n              <td>{DeptName[type]}</td><td>{probability(demand).toFixed(0)}%</td>\n              <td>\n                {state.canPurchase(customer, type) && <button\n                  onClick={() => state.purchase()}\n                  className={classNames(\n                    \"btn btn-sm\",\n                    {\n                      \"btn-primary\": !state.departments[type].sale,\n                      \"btn-success\": state.departments[type].sale\n                    })}>\n                  <FontAwesomeIcon icon={faPlus} />\n                </button>}\n              </td>\n              <td>\n                {state.canPurchaseWithCoupon(customer, type) && <button\n                  onClick={() => state.purchaseWithCoupon()}\n                  className=\"btn btn-sm btn-warning\">\n                  <FontAwesomeIcon icon={faPlus} />\n                </button>}\n              </td>\n              <td>\n                {state.canImpulseBuy(customer, type) && <button\n                  onClick={() => state.impulseBuy(type)}\n                  className=\"btn btn-sm btn-success\">\n                  <FontAwesomeIcon icon={faPlus} />\n                </button>}\n              </td>\n            </tr>)}\n          </tbody>\n        </table>\n      </div>\n      {state.canStartCustomer(customer) &&\n        <button className=\"btn btn-primary btn-sm\" onClick={() => state.startCustomer(index)}>\n          Start\n        </button>}\n      {state.canAdvanceCustomer(customer) &&\n        <button className=\"btn btn-primary btn-sm\" onClick={() => state.advanceCustomer()}>\n          Next\n        </button>}\n      {state.canFinishCustomer(customer) &&\n        <button className=\"btn btn-primary btn-sm\" onClick={() => state.finishCustomer()}>\n          Finish\n        </button>}\n      {state.mustFailCustomer(customer) &&\n        <button className=\"btn btn-danger btn-sm\" onClick={() => state.failCustomer()}>\n          Fail\n        </button>}\n    </div>\n  </div>;\n}\n\nexport default CustomerCard;","import React, { useContext } from 'react';\nimport { Context, Department as DepartmentType, DeptName } from './State';\n\nconst Department = (props: { deptKey: string, dept: DepartmentType }) => {\n  const { deptKey, dept } = props;\n  const state = useContext(Context);\n  return <div className=\"d-flex flex-column flex-grow-1 m-4\">\n    <div className=\"d-flex justify-content-between\">\n      <h5>{DeptName[deptKey]}</h5>\n      <div>\n        {dept.sale ?\n          <span className=\"badge badge-success\">Sale</span> :\n          <button\n            onClick={() => state.startSale(deptKey)}\n            className=\"btn btn-success btn-sm\">\n            Sale\n        </button>}\n      </div>\n    </div>\n    <div className=\"d-flex\">\n      <div>Price: ${dept.sale ? dept.salePrice : dept.price}</div>\n    </div>\n    <table className=\"table table-sm\">\n      <thead><tr><th scope=\"col\">Expiry</th><th>Stock</th></tr></thead>\n      <tbody>\n        {Object.entries(dept.stock).map(([expiry, count]) => <tr key={expiry}>\n          <td>{expiry}</td>\n          <td>{count}</td>\n        </tr>\n        )}\n      </tbody>\n    </table>\n  </div>;\n}\n\nexport default Department;","import React, { useContext } from 'react';\nimport { Context, } from './State';\n\nconst TopCard = (_props: {}) => {\n  const state = useContext(Context);\n  return <div className=\"d-flex form-inline\">\n    <div className=\"m-2\">Round: {state.round}</div>\n    <div className=\"m-2\">Cash: ${state.cash}</div>\n    <button className=\"m-2 btn btn-warning btn-sm\" onClick={() => state.setup()}>New Game</button>\n    <button className=\"m-2 btn btn-primary btn-sm\" onClick={() => state.prepare()}>Prepare</button>\n    <button className=\"m-2 btn btn-light btn-sm\" onClick={() => state.undo()}>Undo</button>\n    <button className=\"m-2 btn btn-light btn-sm\" onClick={() => state.redo()}>Redo</button>\n    <div className=\"m-2\">Space in store: {15 - state.inStore()} / 15</div>\n    <div className=\"m-2\">Space in stock room: {20 - state.inStockRoom()} / 20</div>\n  </div>;\n}\n\nexport default TopCard;","import { faPlus } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { useContext } from 'react';\n\nimport { Context, DeptName, Expirations } from './State';\n\nconst StockRoom = () => {\n  const state = useContext(Context);\n  return <div className=\"m-4\">\n    <h5>Stock Room</h5>\n    <div className=\"card\">\n      <div className=\"card-body\">\n        <table className=\"table table-sm\">\n          <thead><tr>\n            <th scope=\"col\">Expiry</th>\n            {Object.entries(DeptName).map(([key, value]) => <th key={key}>{value}</th>)}\n          </tr></thead>\n          <tbody>\n            <tr>\n              <td></td>\n              {Object.keys(DeptName).map(dept => <td key={dept}>${state.currentCosts[dept]}</td>)}\n            </tr>\n            <tr>\n              <td></td>\n              {Object.keys(DeptName).map(dept => <td key={dept}>\n                <button\n                  className=\"btn btn-success btn-sm\"\n                  onClick={() => state.buyStock(dept)}>\n                  <FontAwesomeIcon icon={faPlus} />\n                </button>\n              </td>)}\n            </tr>\n            {Expirations.map(expiry => <tr key={expiry}>\n              <td>{expiry}</td>\n              {Object.keys(DeptName).map((key) => <td key={key}>{\n                state.stockRoom[key] ? <button\n                  className=\"btn btn-sm btn-light\"\n                  onClick={() => state.moveStock(key, expiry)}>\n                  {state.stockRoom[key][expiry]}\n                </button> : '?'\n              }</td>)}\n            </tr>)}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>;\n}\n\nexport default StockRoom;","import React, { useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\nimport { Context, State } from './State';\nimport { useLocalStorageState } from './Persistence';\nimport BlankCustomerCard from './BlankCustomerCard';\nimport CustomerCard from './CustomerCard';\nimport Department from './Department';\nimport TopBar from './TopBar';\nimport StockRoom from './StockRoom';\n\nexport default function App() {\n  const [i, setCount] = useState(0);\n  const [state, setState] = useLocalStorageState('AppState', new State());\n  state.setState = (newState: State) => {\n    setState(newState);\n    setCount(i + 1);\n  };\n  (window as any).app = state;\n  return <Router>\n    <Switch>\n      <Route path=\"/\">\n        <div className=\"d-flex flex-column m-4\">\n          <Context.Provider value={state}>\n            <TopBar />\n            <div className=\"d-flex flex-wrap\">\n              <div className=\"d-flex flex-grow-1 mr-4\">\n                {Object.entries(state.departments).map(([key, dept]) => <Department key={key} deptKey={key} dept={dept} />)}\n              </div>\n              <StockRoom />\n              {state.currentCustomers.map((customer, i: number) => (\n                customer.visible ?\n                  <CustomerCard key={i} customer={customer} index={i} /> :\n                  <BlankCustomerCard key={i} index={i} />\n              ))}\n            </div>\n          </Context.Provider>\n        </div>\n      </Route>\n    </Switch>\n  </Router >;\n}","import 'bootstrap/dist/css/bootstrap.css';\nimport 'jquery/dist/jquery.min.js'\nimport 'bootstrap/dist/js/bootstrap.min.js'\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}